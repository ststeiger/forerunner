@{
    ViewBag.Title = "Test";
    Layout = "../Shared/_RMLayout.cshtml";    
}

@section styles {
    <link href="~/Forerunner/Lib/jQuery/css/jquery-ui-1.10.3.forerunner.css" rel="stylesheet"/>
    <link href="~/Custom/Mobilizer.css" rel="stylesheet"/>
}

@section scripts{
  
  <script type="text/javascript" src="~/Forerunner/Lib/jQuery/js/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/Misc/js/jquery.hammer.min.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/Misc/js/json2.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/Misc/js/scroll-startstop.events.jquery.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/Misc/js/jquery.lazyload.min.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/Misc/js/moment.min.js"></script>
  <script type="text/javascript" src="~/Forerunner/Bundles/forerunner.js"></script>
  <script type="text/javascript" src="~/Forerunner/Bundles/forerunner-tools.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/History.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/Viewerbase.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportViewer.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ParameterModel.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/Toolbase.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/MessageBox.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/DashboardModel.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/ForerunnerProperties.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/ContextMenuBase.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/ForerunnerSecurity.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/Toolbar.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ToolPane.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/PageNav.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ReportExplorerContextMenu.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/CreateDashboard.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/SubscriptionModel.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ManageMySubscriptions.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ReportExplorerToolbar.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ReportExplorerToolpane.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ReportExplorer.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/UserSettings.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ReportExplorerSearchFolder.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/EmailSubscription.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ManageSubscription.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportRender.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportParameter.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportDocumentMap.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportPrint.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ManageParamSets.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/DSCredential.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/jQuery/js/jquery.form.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/jQuery/js/jquery.watermark.min.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/jQuery/js/jquery.validate1.11.1.min.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/jQuery/js/jquery-ui-1.10.3.forerunner.js"></script>
  <script type="text/javascript" src="~/Forerunner/Common/js/DefaultAppTemplate.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportViewerInitializer.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportViewer/js/ReportViewerEZ.js"></script>
  <script type="text/javascript" src="~/Forerunner/ReportExplorer/js/ReportExplorerEZ.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/jsTree/jstree.js"></script>
  <script type="text/javascript" src="~/Forerunner/Lib/misc/js/jquery.FRmaphilight.js"></script>
  <script type="text/javascript" src="~/Forerunner/Dashboard/js/DashboardEZ.js"></script>
  <script type="text/javascript" src="~/Forerunner/Dashboard/js/DashboardToolbar.js"></script>
  <script type="text/javascript" src="~/Forerunner/Dashboard/js/DashboardToolPane.js"></script>
  <script type="text/javascript" src="~/Forerunner/Dashboard/js/DashboardViewer.js"></script>
  <script type="text/javascript" src="~/Forerunner/Dashboard/js/DashboardEditor.js"></script>
  <script type="text/javascript" src="~/Forerunner/Dashboard/js/ReportProperties.js"></script>

  <script>
    // forerunner is the top level global object
    var forerunner = forerunner || {};

    $(document).ready(function () {
    
        // Create a reportViewerEZ widget to view the report
        var $reportViewerEZ = $('body').reportViewerEZ({
            DefaultAppTemplate: null,
            navigateTo: null,
            historyBack: null,
            isReportManager: false,
            isFullScreen: true,
        });

        var defaultParamsList = {
            "ParamsList":[{
                "Parameter":"StartDate",
                "IsMultiple":"false",
                "Type":"DateTime",
                "Value":"2003-07-07"
            },{
                "Parameter":"EndDate",
                "IsMultiple":"false",
                "Type":"DateTime",
                "Value":"2004-07-07"
            },{
                "Parameter":"ProductCategory",
                "IsMultiple":"false",
                "Type":"Integer",
                "Value":"1"
            },{
                "Parameter":"ProductSubcategory",
                "IsMultiple":"true",
                "Type":"Integer",
                "Value":["2"]
            }]
        }
 
        var $reportViewer = $reportViewerEZ.reportViewerEZ("getReportViewer");

        $reportViewer.reportViewer("option", {
            exportCallback:
                 function (url) {
                     alert(url);
                 }
        });

        //$reportViewer.reportViewer("loadReport", "/AdventureWorks 2008 Sample Reports/Product Line Sales 2008", 1, defaultParamsList);
        $reportViewer.reportViewer("loadReport", "/Northwind Test Suite/Simple Parameter", 1, {
            "ParamsList": [{
                "Parameter": "CategoryID",
                "Value": "1"
            },
            {
                "Parameter": "SecondParam",
                "UseDefault": "true"
            }]
        });
    });
      
  </script>

    }