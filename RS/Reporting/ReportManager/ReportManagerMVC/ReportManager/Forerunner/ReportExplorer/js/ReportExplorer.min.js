var forerunner=forerunner||{};forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets;$.widget(n.getFullname(n.reportExplorer),{options:{reportServerURL:null,reportManagerAPI:"./api/ReportManager",reportManagerrLocFolder:"./forerunner/ReportManager/loc/",path:null,selectedItemPath:null,$scrollBarOwner:null,navigateTo:null},_generatePCListItem:function(n,t){var f=this,v=f.options.url+"GetThumbnail/?ReportPath="+n.Path+"&DefDate="+n.ModifiedDate,r=new $("<div />"),e,o,s,l,u,i,a,h,c;t&&(r.addClass("fr-explorer-item-selected"),f.$selectedItem=r),r.addClass("fr-explorer-item"),e=new $("<div />"),e.addClass("fr-explorer-item-center"),r.append(e),o=new $("<h3 />"),o.addClass("fr-explorer-item-centertext"),o.html(n.Name),e.append(o),s=new $("<div />"),s.addClass("fr-report-item-image-block"),r.append(s),u=new $("<a />"),i=new $("<img />"),i.addClass("fr-explorer-item-width"),i.addClass("fr-explorer-item-center"),l=n.Type===1?"./Forerunner/ReportExplorer/images/folder-icon.png":v,a=n.Type===1?"explore":"browse",i.attr("src",l),i.error(function(){$(this).attr("src","./Forerunner/ReportExplorer/images/Report-icon.png")}),i.removeAttr("height");u.on("click",function(){f.options.navigateTo&&f.options.navigateTo(a,n.Path)});return h=new $("<div />"),h.addClass("fr-report-item-reflection"),c=i.clone(),c.addClass("fr-report-item-reflection"),c.error(function(){$(this).attr("src","../Forerunner/ReportExplorer/images/Report-icon.png")}),h.append(c),u.append(i),u.append(h),s.append(u),r},_renderPCView:function(n){var t=this,r,i,u,f;for(n||(n=t.options.catalogItems),t.$UL=t.element.find(".fr-report-explorer"),r=t.options.selectedItemPath?decodeURIComponent(t.options.selectedItemPath):null,t.rmListItems=new Array(n.length),i=0;i<n.length;i++)u=n[i],f=!1,r&&r===decodeURIComponent(u.Path)&&(t.selectedItem=i,f=!0),t.rmListItems[i]=t._generatePCListItem(u,f),t.$UL.append(t.rmListItems[i])},_render:function(n){var t=this;t.element.html("<div class='fr-report-explorer'><\/div>"),t._renderPCView(n),t.$selectedItem&&($(window).scrollTop(t.$selectedItem.offset().top-50),$(window).scrollLeft(t.$selectedItem.offset().left-20)),t._initscrollposition()},_setSelectionFromScroll:function(){for(var n=this,u=n.$explorer.scrollTop(),f=0,r=0,e=Math.abs(u-n.rmListItems[0].position().top),i,t=1;t<n.rmListItems.length;t++){if(i=Math.abs(u-n.rmListItems[t].position().top),i<e)f=t,e=i;else if(r!=0&&i>r)break;r=i}n.selectedItem=f},_fetch:function(n,t){var i=this;$.ajax({dataType:"json",url:i.options.reportManagerAPI+"/GetItems",async:!1,data:{view:n,path:t},success:function(n){i._render(n)},error:function(n){console.log(n),alert("Failed to load the catalogs from the server.  Please try again.")}})},_initCallbacks:function(){var n=this},_init:function(){var n=this;n.$RMList=null,n.$UL=null,n.rmListItems=null,n.selectedItem=0,n.isRendered=!1,n.$explorer=n.options.$scrollBarOwner?n.options.$scrollBarOwner:$(window),n._render(),n.$selectedItem=null}})});
//@ sourceMappingURL=ReportExplorer.min.js.map