var forerunner=forerunner||{};forerunner.ssr=forerunner.ssr||{},jQuery.fn.extend({slideRightShow:function(n){return this.each(function(){$(this).show("slide",{direction:"right",easing:"easeInCubic"},n)})},slideDownShow:function(n){return this.each(function(){$(this).show("slide",{direction:"down",easing:"easeInCubic"},n)})},slideDownHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"down",easing:"easeInCubic"},n)})},slideUpShow:function(n){return this.each(function(){$(this).show("slide",{direction:"up",easing:"easeInCubic"},n)})},slideUpHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"up",easing:"easeInCubic"},n)})},slideLeftHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"left",easing:"easeOutCubic"},n)})},slideRightHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"right",easing:"easeOutCubic"},n)})},slideLeftShow:function(n){return this.each(function(){$(this).show("slide",{direction:"left",easing:"easeInCubic"},n)})}}),$(function(){forerunner.ssr.constants={widgets:{reportExplorer:"reportExplorer",reportExplorerEZ:"reportExplorerEZ",reportExplorerToolbar:"reportExplorerToolbar",pageNav:"pageNav",reportDocumentMap:"reportDocumentMap",reportParameter:"reportParameter",reportRender:"reportRender",reportViewer:"reportViewer",reportViewerEZ:"reportViewerEZ",toolbar:"toolbar",toolBase:"toolBase",toolPane:"toolPane",reportPrint:"reportPrint",namespace:"forerunner",getFullname:function(n){return this.namespace+"."+n}},events:{actionStarted:"actionstarted",toolPaneActionStarted:function(){return forerunner.ssr.constants.widgets.toolPane.toLowerCase()+this.actionStarted},allowZoom:"allowZoom",reportViewerallowZoom:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.allowZoom).toLowerCase()},menuClick:"menuclick",toolbarMenuClick:function(){return(forerunner.ssr.constants.widgets.toolbar+this.menuClick).toLowerCase()},paramAreaClick:"paramareaclick",toolbarParamAreaClick:function(){return(forerunner.ssr.constants.widgets.toolbar+this.paramAreaClick).toLowerCase()},setPageDone:"setPageDone",reportViewerSetPageDone:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.setPageDone).toLowerCase()},changePage:"changepage",reportViewerChangePage:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.changePage).toLowerCase()},drillBack:"drillback",reportViewerDrillBack:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.drillBack).toLowerCase()},drillThrough:"drillThrough",reportViewerDrillThrough:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.drillThrough).toLowerCase()},back:"back",reportViewerBack:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.back).toLowerCase()},showNav:"showNav",reportViewerShowNav:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showNav).toLowerCase()},showDocMap:"showDocMap",reportViewerShowDocMap:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showDocMap).toLowerCase()},hideDocMap:"hideDocMap",reportViewerHideDocMap:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.hideDocMap).toLowerCase()},showModalDialog:"showModalDialog",reportViewerShowModalDialog:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showModalDialog).toLowerCase()},closeModalDialog:"closeModalDialog",reportViewerCloseModalDialog:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.closeModalDialog).toLowerCase()},showParamArea:"showparamarea",reportViewerShowParamArea:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showParamArea).toLowerCase()},render:"render",reportParameterRender:function(){return(forerunner.ssr.constants.widgets.reportParameter+this.render).toLowerCase()},submit:"submit",reportParameterSubmit:function(){return(forerunner.ssr.constants.widgets.reportParameter+this.submit).toLowerCase()}},toolTypes:{button:"button",input:"input",textButton:"textbutton",plainText:"plaintext",containerItem:"containeritem",toolGroup:"toolgroup"},sortDirection:{desc:"Descending",asc:"Ascending"},navigateType:{toggle:"toggle",bookmark:"bookmark",drillThrough:"drillthrough",docMap:"documentMap"},exportType:{xml:"XML",csv:"CSV",pdf:"PDF",mhtml:"MHTML",excel:"EXCELOPENXML",tiff:"IMAGE",word:"WORDOPENXML"}},forerunner.config={_virtualRootBase:null,_endsWith:function(n,t){return n.indexOf(t,n.length-t.length)},_getVirtualRootBase:function(){var t,n,i,r;if(!this._virtualRootBase)for(t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(i=t[n],r=this._endsWith(i.src,"/Forerunner/Lib/jQuery/js/jquery-1.9.1.min.js"),r!==-1){this._virtualRootBase=i.src.substring(0,r);break}return this._virtualRootBase},forerunnerFolder:function(){return this._getVirtualRootBase()+"/forerunner"},forerunnerAPIBase:function(){return this._getVirtualRootBase()+"/api/"}},forerunner.styleSheet={_findImportedSheet:function(n,t){var r=t.cssRules||t.rules,i=null;return $.each(r,function(t,r){if(r.styleSheet){if(r.styleSheet.href.match(new RegExp(n,"i")))return i=r.styleSheet,!1;if(i=forerunner.styleSheet._findImportedSheet(n,r.styleSheet),i)return!1}}),i},_findSheet:function(n){var t=null;return $.each(document.styleSheets,function(i,r){return r.href.match(new RegExp(n,"i"))?(t=r,!1):(t=forerunner.styleSheet._findImportedSheet(n,r),t?!1:void 0)}),t},updateDynamicRules:function(n,t){var u=forerunner.styleSheet._findSheet(t),f,e,r,i;if(u)for(f=u.cssRules||u.rules,e=f.length,r=0;r<e;r++)i=f[r],$.each(n,function(n,t){var f=t.selector.toLowerCase(),r,u;if(i.selectorText&&i.selectorText.toLowerCase()===f)for(r in t.properties())u=t.properties()[r],u!=null||u==""?i.style[r]=u:i.style.removeProperty(r)})}},forerunner.localize={_locData:{},getLocData:function(n){var i=navigator.language||navigator.userLanguage,t=this._loadFile(n,i);return(t===null||t===undefined)&&(t=this._loadFile(n,i.substr(0,2))),(t===null||t===undefined)&&(t=this._loadFile(n,"en")),t},_loadFile:function(n,t){var i=this;return i._locData[n]===undefined&&(i._locData[n]={}),i._locData[n][t]===undefined&&$.ajax({url:n+"-"+t+".txt",dataType:"json",async:!1,success:function(r){i._locData[n][t]=r},fail:function(){i._locData[n][t]=null},error:function(){i._locData[n][t]=null}}),i._locData[n][t]}},forerunner.device={isTouch:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0},isPortrait:function(){return window.orientation?window.orientation&2?!1:!0:$(window).height()>$(window).width()},isiOS:function(){var n=navigator.userAgent;return n.match(/(iPhone|iPod|iPad)/)},isiPhone:function(){var n=navigator.userAgent;return n.match(/(iPhone|iPod)/)},isiPad:function(){var n=navigator.userAgent;return n.match(/(iPad)/)},isFirefox:function(){var n=navigator.userAgent;return n.match(/(Firefox)/)},isStandalone:function(){return window.navigator.standalone?!0:!1},isiPhoneFullscreen:function(){return forerunner.device.isiPhone()&&document.documentElement.clientHeight===320?!0:!1},isAndroid:function(){var n=navigator.userAgent;return n.match(/Android/)},allowZoom:function(n){n===!0?($("head meta[name=viewport]").remove(),$("head").prepend("'<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=10.0, minimum-scale=0, user-scalable=1' />")):($("head meta[name=viewport]").remove(),$("head").prepend("<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=1' />"))},zoomLevel:function(){return document.documentElement.clientWidth/window.innerWidth},isElementInViewport:function(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isSmall:function(){return $(window).height()<768?!0:!1}},forerunner.dialog={insertMaskLayer:function(n){var t=$(".fr-mask");t.length===0&&(t=$("<div class='fr-mask'><\/div>"),t.appendTo($("body"))),t.show("fast",function(){$(this).fadeTo("fast",.5,function(){$("body").eq(0).css("overflow","hidden"),n&&typeof n=="function"&&n()})})},removeMaskLayer:function(n){var t=$(".fr-mask");t.length!==0&&(n&&typeof n=="function"&&n(),t.hide("fast",function(){$("body").eq(0).css("overflow","auto"),$(this).remove()}))},closeModalDialog:function(){var n=this;n.removeMaskLayer(null),$(".fr-dialog").hide()},showMessageBox:function(n){var i=this,t;if($(".fr-messagebox").length===0){t=new $("<div class='fr-dialog fr-messagebox'><div class='fr-messagebox-innerpage'><div class='fr-messagebox-header'><span class='fr-messagebox-title'>Notice<\/span><\/div><div class='fr-messagebox-content'><span class='fr-messagebox-msg'/><\/div><div class='fr-messagebox-buttongroup'><input class='fr-messagebox-button fr-messagebox-close' name='close' type='button' value='close' /><\/div><\/div>"),$("body").append(t);$(".fr-messagebox-close").on("click",function(){forerunner.dialog.removeMaskLayer(function(){$(".fr-messagebox-msg").val(),t.hide()})})}i.insertMaskLayer(function(){$(".fr-messagebox-msg").html(n),$(".fr-messagebox").show()})}},$(document).ready(function(){var n={selector:".fr-toolbase-hide-if-not-touch",properties:function(){var n={display:"none"};return forerunner.device.isTouch()&&(n.display=null),n}};forerunner.styleSheet.updateDynamicRules([n],"toolbase.css")})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},forerunner.ssr.tools=forerunner.ssr.tools||{},$(function(){var u=forerunner.ssr.constants.events,n=forerunner.ssr.constants.toolTypes,t=forerunner.localize.getLocData(forerunner.config.forerunnerFolder()+"/ReportViewer/loc/ReportViewer"),f=forerunner.ssr.constants.exportType,r,i,e;forerunner.ssr.tools.toolbar={btnReportBack:{toolType:n.button,selectorClass:"fr-toolbar-reportback-button",imageClass:"fr-icons24x24-reportback",tooltip:t.toolbar.back,events:{click:function(n){n.data.$reportViewer.reportViewer("back")}}},btnMenu:{toolType:n.button,selectorClass:"fr-toolbar-menu-button",imageClass:"fr-icons24x24-menu",tooltip:t.toolbar.menu,events:{click:function(n){n.data.me._trigger(u.menuClick,null,{})}}},btnNav:{toolType:n.button,selectorClass:"fr-toolbar-nav-button",imageClass:"fr-icons24x24-nav",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium",tooltip:t.toolbar.navigation,events:{click:function(n){n.data.$reportViewer.reportViewer("showNav")}}},btnParamarea:{toolType:n.button,selectorClass:"fr-toolbar-paramarea-button",imageClass:"fr-icons24x24-paramarea",tooltip:t.toolbar.paramarea,events:{click:function(n){n.data.me._trigger(u.paramAreaClick,null,{})}}},btnRefresh:{toolType:n.button,selectorClass:"fr-toolbar-refresh-button",imageClass:"fr-icons24x24-refresh",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",tooltip:t.toolbar.refresh,events:{click:function(n){n.data.$reportViewer.reportViewer("refreshReport")}}},btnFirstPage:{toolType:n.button,selectorClass:"fr-toolbar-firstpage-button",imageClass:"fr-icons24x24-firstpage",sharedClass:"fr-toolbar-hidden-on-small",tooltip:t.toolbar.firstPage,events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",1)}}},btnPrev:{toolType:n.button,selectorClass:"fr-toolbar-prev-button",imageClass:"fr-icons24x24-prev",sharedClass:"fr-toolbar-hidden-on-small",tooltip:t.toolbar.previousPage,events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",n.data.$reportViewer.reportViewer("getCurPage")-1)}}},btnReportPage:{toolType:n.input,selectorClass:"fr-toolbar-reportpage-textbox",inputType:"number",tooltip:t.toolbar.reportPage,events:{keydown:function(n){if(n.keyCode===13||n.keyCode===9)return n.data.$reportViewer.reportViewer("navToPage",this.value),!1},click:function(n){n.target.select()}}},btnPageOf:{toolType:n.plainText,selectorClass:"fr-toolbar-pageOf-button",text:t.toolbar.pageOf},btnNumPages:{toolType:n.plainText,selectorClass:"fr-toolbar-numPages-button",text:"0"},btnNext:{toolType:n.button,selectorClass:"fr-toolbar-next-button",imageClass:"fr-icons24x24-next",sharedClass:"fr-toolbar-hidden-on-small",tooltip:t.toolbar.next,events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",n.data.$reportViewer.reportViewer("getCurPage")+1)}}},btnLastPage:{toolType:n.button,selectorClass:"fr-toolbar-lastpage-button",imageClass:"fr-icons24x24-lastpage",sharedClass:"fr-toolbar-hidden-on-small",tooltip:t.toolbar.lastPage,events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",n.data.$reportViewer.reportViewer("getNumPages"))}}},btnDocumentMap:{toolType:n.button,selectorClass:"fr-toolbar-documentmap-button",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",imageClass:"fr-icons24x24-documentmap",tooltip:t.toolbar.docMap,events:{click:function(n){n.data.$reportViewer.reportViewer("showDocMap")}}},btnKeyword:{toolType:n.input,selectorClass:"fr-toolbar-keyword-textbox",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",tooltip:t.toolbar.keyword,events:{keydown:function(n){if(n.keyCode===13||n.keyCode===9)return n.data.$reportViewer.reportViewer("find",$.trim(this.value)),!1}}},btnFind:{toolType:n.button,selectorClass:"fr-toolbar-find-button",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",imageClass:"fr-icons24x24-search",tooltip:t.toolbar.find,events:{click:function(n){var t=$.trim(n.data.me.element.find(".fr-toolbar-keyword-textbox").val());n.data.$reportViewer.reportViewer("find",t)}}},btnExportXML:{toolType:n.containerItem,selectorClass:"fr-button-exportXML-id",imageClass:"fr-icons24x24-exportXML",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.xml,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.xml)}}},btnExportCSV:{toolType:n.containerItem,selectorClass:"fr-button-exportCSV-id",imageClass:"fr-icons24x24-exportCSV",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.csv,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.csv)}}},btnExportPDF:{toolType:n.containerItem,selectorClass:"fr-button-exportPDF-id",imageClass:"fr-icons24x24-exportPDF",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.pdf,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.pdf)}}},btnExportMHTML:{toolType:n.containerItem,selectorClass:"fr-button-exportMHTML-id",imageClass:"fr-icons24x24-exportMHT",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.mhtml,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.mhtml)}}},btnExportExcel:{toolType:n.containerItem,selectorClass:"fr-button-exportExcel-id",imageClass:"fr-icons24x24-exportExcel",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.excel,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.excel)}}},btnExportTiff:{toolType:n.containerItem,selectorClass:"fr-button-exportTiff-id",imageClass:"fr-icons24x24-exportTIFF",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.tiff,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.tiff)}}},btnExportWord:{toolType:n.containerItem,selectorClass:"fr-button-exportWord-id",imageClass:"fr-icons24x24-exportWord",sharedClass:"fr-toolbase-dropdown-item",text:t.exportType.word,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.word)}}},btnZoom:{toolType:n.button,selectorClass:"fr-toolbar-zoom-button",imageClass:"fr-icons24x24-zoom",sharedClass:"fr-toolbase-hide-if-not-touch fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",tooltip:t.toolPane.zoom,events:{click:function(n){n.data.$reportViewer.reportViewer("allowZoom",!0)}}},btnPrint:{toolType:n.button,selectorClass:"fr-toolbar-print-button",imageClass:"fr-icons24x24-printreport",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",tooltip:t.toolbar.print,events:{click:function(n){n.data.$reportViewer.reportViewer("showPrint")}}}},forerunner.ssr.tools.toolpane={itemNav:{toolType:n.containerItem,selectorClass:"fr-id-nav",imageClass:"fr-icons24x24-nav",text:t.toolPane.navigation,events:{click:function(n){n.data.$reportViewer.reportViewer("showNav"),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-nav"])}}},itemZoom:{toolType:n.containerItem,selectorClass:"fr-item-zoom",imageClass:"fr-icons24x24-zoom",sharedClass:"fr-toolbase-hide-if-not-touch",text:t.toolPane.zoom,events:{click:function(n){n.data.$reportViewer.reportViewer("allowZoom",!0),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-item-zoom"])}}},itemReportBack:{toolType:n.containerItem,selectorClass:"fr-id-reportback",imageClass:"fr-icons24x24-reportback",text:t.toolPane.back,events:{click:function(n){n.data.$reportViewer.reportViewer("back"),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-reportback"])}}},itemRefresh:{toolType:n.containerItem,selectorClass:"fr-id-refresh",imageClass:"fr-icons24x24-refresh",text:t.toolPane.refresh,events:{click:function(n){n.data.$reportViewer.reportViewer("refreshReport"),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-refresh"])}}},itemFirstPage:{toolType:n.button,selectorClass:"fr-id-firstpage",imageClass:"fr-icons24x24-firstpage",events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",1),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-firstpage"])}}},itemPrev:{toolType:n.button,selectorClass:"fr-id-prev",imageClass:"fr-icons24x24-prev",events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",n.data.$reportViewer.reportViewer("getCurPage")-1),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-prev"])}}},itemReportPage:{toolType:n.input,selectorClass:"fr-item-textbox-reportpage",inputType:"number",events:{keydown:function(n){if(n.keyCode===13||n.keyCode===9)return n.data.$reportViewer.reportViewer("navToPage",this.value),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-item-textbox-reportpage"]),!1}}},itemPageOf:{toolType:n.plainText,selectorClass:"fr-toolbar-pageOf-button",text:t.toolPane.pageOf},itemNumPages:{toolType:n.plainText,selectorClass:"fr-toolbar-numPages-button",text:""},itemNext:{toolType:n.button,selectorClass:"fr-id-next",imageClass:"fr-icons24x24-next",events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",n.data.$reportViewer.reportViewer("getCurPage")+1),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-next"])}}},itemLastPage:{toolType:n.button,selectorClass:"fr-id-lastpage",imageClass:"fr-icons24x24-lastpage",events:{click:function(n){n.data.$reportViewer.reportViewer("navToPage",n.data.$reportViewer.reportViewer("getNumPages")),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-lastpage"])}}},itemDocumentMap:{toolType:n.containerItem,selectorClass:"fr-id-documentmap",imageClass:"fr-icons24x24-documentmap",text:t.toolPane.docMap,events:{click:function(n){n.data.$reportViewer.reportViewer("showDocMap"),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-id-documentmap"])}}},itemExportXML:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportXML",text:t.exportType.xml,selectorClass:"fr-item-exportXML",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.xml)}}},itemExportCSV:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportCSV",text:t.exportType.csv,selectorClass:"fr-item-exportCSV",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.csv)}}},itemExportPDF:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportPDF",text:t.exportType.pdf,selectorClass:"fr-item-exportPDF",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.pdf)}}},itemExportMHTML:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportMHT",text:t.exportType.mhtml,selectorClass:"fr-item-exportMHTML",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.mhtml)}}},itemExportExcel:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportExcel",text:t.exportType.excel,selectorClass:"fr-item-exportExcel",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.excel)}}},itemExportTiff:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportTIFF",text:t.exportType.tiff,selectorClass:"fr-item-exportTiff",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.tiff)}}},itemExportWord:{toolType:n.containerItem,imageClass:"fr-icons24x24-exportWord",text:t.exportType.word,selectorClass:"fr-item-exportWord",indent:1,events:{click:function(n){n.data.$reportViewer.reportViewer("exportReport",f.word)}}},itemExport:{toolType:n.containerItem,selectorClass:"fr-item-export",imageClass:"fr-icons24x24-export",text:t.toolbar.exportMenu,rightImageClass:"fr-toolpane-icon16x16 fr-toolpane-down-icon",events:{click:function(n){var u=n.data.me.allTools["fr-item-export"],t=n.data.me.element.find(".fr-toolpane-icon16x16"),i,r;t.toggleClass("fr-toolpane-down-icon"),t.toggleClass("fr-toolpane-up-icon"),i=u.accordionGroup,r=n.data.me.element.find("."+i.selectorClass),r.toggle()}}},itemKeyword:{toolType:n.input,selectorClass:"fr-item-textbox-keyword",events:{keydown:function(n){if(n.keyCode===13||n.keyCode===9)return n.data.$reportViewer.reportViewer("find",$.trim(this.value)),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-item-find"]),!1}}},itemFind:{toolType:n.button,selectorClass:"fr-item-find",imageClass:"fr-icons24x24-search",text:t.toolPane.find,events:{click:function(n){var t=$.trim(n.data.me.element.find(".fr-item-textbox-keyword").val());n.data.$reportViewer.reportViewer("find",t),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-item-find"])}}},itemPrint:{toolType:n.containerItem,selectorClass:"fr-item-printreport",imageClass:"fr-icons24x24-printreport",text:t.toolPane.print,events:{click:function(n){n.data.$reportViewer.reportViewer("showPrint"),n.data.me._trigger(u.actionStarted,null,n.data.me.allTools["fr-item-printreport"])}}}},forerunner.ssr.tools.reportExplorerToolbar={btnHome:{toolType:n.button,selectorClass:"fr-rm-button-home",imageClass:"fr-icons24x24-home",tooltip:t.toolbar.home,events:{click:function(n){n.data.me.options.navigateTo("home",null)}}},btnBack:{toolType:n.button,selectorClass:"fr-button-back",imageClass:"fr-icons24x24-back",tooltip:t.toolbar.back,events:{click:function(n){n.data.me.options.navigateTo("back",null)}}},btnFav:{toolType:n.button,selectorClass:"fr-rm-button-fav",imageClass:"fr-icons24x24-favorite",tooltip:t.toolbar.favorites,events:{click:function(n){n.data.me.options.navigateTo("favorites",null)}}},btnRecent:{toolType:n.button,selectorClass:"fr-rm-button-recent",imageClass:"fr-icons24x24-recent",tooltip:t.toolbar.recent,events:{click:function(n){n.data.me.options.navigateTo("recent",null)}}}},forerunner.ssr.tools.mergedButtons={btnHome:{toolType:n.button,selectorClass:"fr-button-home",sharedClass:"fr-toolbase-no-disable-id fr-toolbar-hidden-on-small",imageClass:"fr-icons24x24-home",tooltip:t.toolbar.home,events:{click:function(n){n.data.me.options.$ReportViewerInitializer.options.navigateTo("home",null)}}},btnFav:{toolType:n.button,selectorClass:"fr-button-update-fav",sharedClass:"fr-toolbar-hidden-on-small",imageClass:"fr-icons24x24-favorite-minus",tooltip:t.toolbar.favorites,events:{click:function(n){n.data.me.options.$ReportViewerInitializer.onClickBtnFavorite.call(n.data.me.options.$ReportViewerInitializer,n)}}},btnSavParam:{toolType:n.button,selectorClass:"fr-button-save-param",imageClass:"fr-icons24x24-save-param",events:{click:function(n){var t=n.data.me.options.$ReportViewerInitializer.options.$paramarea.reportParameter("getParamsList");t&&$.getJSON(n.data.me.options.$ReportViewerInitializer.options.ReportManagerAPI+"/SaveUserParameters",{reportPath:n.data.me.options.$reportViewer.reportViewer("option","reportPath"),parameters:t}).done(function(){forerunner.dialog.showMessageBox("Saved")}).fail(function(){forerunner.dialog.showMessageBox("Failed")})}}},btnFavorite:{toolType:n.button,selectorClass:"fr-button-favorite",sharedClass:"fr-toolbar-hidden-on-small",imageClass:"fr-icons24x24-favorite",tooltip:t.toolbar.favorites,events:{click:function(n){n.data.me.options.$ReportViewerInitializer.options.navigateTo("favorites",null)}}}},forerunner.ssr.tools.mergedItems={itemHome:{toolType:n.containerItem,selectorClass:"fr-id-home",sharedClass:"fr-toolbase-no-disable-id",imageClass:"fr-icons24x24-home",text:t.toolPane.home,events:{click:function(n){n.data.me.options.$ReportViewerInitializer.options.navigateTo("home",null)}}},itemFav:{toolType:n.containerItem,selectorClass:"fr-item-update-fav",imageClass:"fr-icons24x24-favorite-minus",text:t.toolPane.favorites,events:{click:function(n){n.data.me.options.$ReportViewerInitializer.onClickItemFavorite.call(n.data.me.options.$ReportViewerInitializer,n)}}}},r=forerunner.ssr.tools.toolbar,i=forerunner.ssr.tools.toolpane,forerunner.ssr.tools.groups={btnVCRGroup:{toolType:n.toolGroup,selectorClass:"fr-toolbar-VCR-group-id",tools:[r.btnFirstPage,r.btnPrev,r.btnReportPage,r.btnPageOf,r.btnNumPages,r.btnNext,r.btnLastPage]},btnFindGroup:{toolType:n.toolGroup,selectorClass:"fr-toolbar-find-group-id",tools:[r.btnKeyword,r.btnFind]},btnExportDropdown:{toolType:n.button,selectorClass:"fr-toolbar-export-button",imageClass:"fr-icons24x24-export",sharedClass:"fr-toolbar-hidden-on-small fr-toolbar-hidden-on-medium fr-toolbar-hidden-on-large",tooltip:t.toolbar.exportMenu,dropdown:!0,tools:[r.btnExportXML,r.btnExportCSV,r.btnExportPDF,r.btnExportMHTML,r.btnExportExcel,r.btnExportTiff,r.btnExportWord]},itemVCRGroup:{toolType:n.toolGroup,selectorClass:"fr-item-VCRgroup",tools:[i.itemFirstPage,i.itemPrev,i.itemReportPage,i.itemPageOf,i.itemNumPages,i.itemNext,i.itemLastPage]},itemExportGroup:{toolType:n.toolGroup,visible:!1,selectorClass:"fr-item-export-group",tools:[i.itemExportXML,i.itemExportCSV,i.itemExportPDF,i.itemExportMHTML,i.itemExportExcel,i.itemExportTiff,i.itemExportWord]},itemFindGroup:{toolType:n.toolGroup,selectorClass:"fr-item-findgroup",tools:[i.itemKeyword,i.itemFind]}},e=forerunner.ssr.tools.groups,i.itemExport.accordionGroup=e.itemExportGroup}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){function r(n,t){this.reportObj=t,this.$container=n,this.isRendered=!1}var i=forerunner.ssr.constants.widgets,n=forerunner.ssr.constants.events,t=forerunner.ssr.constants.navigateType;$.widget(i.getFullname(i.reportViewer),{options:{reportViewerAPI:forerunner.config.forerunnerAPIBase()+"ReportViewer",reportPath:null,pageNum:1,pingInterval:3e5,toolbarHeight:0,pageNavArea:null,paramArea:null,DocMapArea:null,printArea:null},_destroy:function(){},_create:function(){var n=this,t;setInterval(function(){n._sessionPing()},this.options.pingInterval),n.locData=forerunner.localize.getLocData(forerunner.config.forerunnerFolder()+"/ReportViewer/loc/ReportViewer"),n.actionHistory=[],n.curPage=0,n.pages={},n.sessionID="",n.numPages=0,n.lock=0,n.$reportContainer=new $("<DIV class='fr-report-container'/>"),n.$reportAreaContainer=null,n.$loadingIndicator=new $("<div class='fr-report-loading-indicator' ><\/div>").text(n.locData.messages.loading),n.floatingHeaders=[],n.paramLoaded=!1,n.scrollTop=0,n.scrollLeft=0,n.loadLock=0,n.finding=!1,n.findStartPage=null,n.findEndPage=null,n.findKeyword=null,n.hasDocMap=!1,n.docMapData=null,n.togglePageNum=0,n.element.append(n.$loadingIndicator),n.pageNavOpen=!1,n.savedTop=0,n.savedLeft=0,n.origionalReportPath="",n._setPageCallback=null,t=forerunner.device.isTouch(),t?$(window).bind("scrollstop",function(){n._updateTableHeaders(n)}):$(window).scroll(function(){n._updateTableHeaders(n)}),n.element.append(n.$reportContainer),n._addLoadingIndicator(),n._loadParameters(n.options.pageNum),n.hideDocMap()},getCurPage:function(){var n=this;return n.curPage},getNumPages:function(){var n=this;return n.numPages},getReportViewerAPI:function(){var n=this;return n.options.reportViewerAPI},getReportPath:function(){var n=this;return n.options.reportPath},getSessionID:function(){var n=this;return n.sessionID},getHasDocMap:function(){var n=this;return n.hasDocMap},_setColHeaderOffset:function(n,t){if(t){var i=n.offset(),r=$(window).scrollLeft();r>i.left&&r<i.left+n.width()?(t.css("left",Math.min(r-i.left,n.width()-t.width())+"px"),t.fadeIn("fast")):t.hide()}},_setRowHeaderOffset:function(n,t){var u=this,i,r;t&&(i=n.offset(),r=$(window).scrollTop(),r>i.top&&r<i.top+n.height()?(t.css("top",Math.min(r-i.top,n.height()-t.height())+u.options.toolbarHeight+"px"),t.fadeIn("fast")):t.hide())},_addLoadingIndicator:function(){var n=this;n.loadLock===0&&(n.loadLock=1,setTimeout(function(){n.showLoadingIndictator(n)},500))},showLoadingIndictator:function(n){if(n.loadLock===1){var t=n.$reportContainer.width()-212;n.$loadingIndicator.css("top",n.$reportContainer.scrollTop()+100+"px").css("left",t>0?t/2:"0px"),n.$reportContainer.css({opacity:.5}),n.$loadingIndicator.show()}},removeLoadingIndicator:function(){var n=this;n.loadLock=0,n.$reportContainer.css({opacity:1}),n.$loadingIndicator.hide()},_setPage:function(t){var i=this;i.pages[t].isRendered||i._renderPage(t),i.$reportAreaContainer?(i.$reportAreaContainer.find(".Page").detach(),i.$reportAreaContainer.append(i.pages[t].$container),i.curPage!==null&&i.curPage>t?i.pages[t].$container.show():i.pages[t].$container.show()):(i.$reportAreaContainer=$("<Div/>"),i.$reportAreaContainer.addClass("fr-report-areacontainer"),i.$reportContainer.append(i.$reportAreaContainer),i.$reportAreaContainer.append(i.pages[t].$container),i._touchNav(),i.pages[t].$container.fadeIn(),i._removeDocMap()),i.curPage=t,i._trigger(n.changePage,null,{newPageNum:t,paramLoaded:i.paramLoaded}),$(window).scrollLeft(i.scrollLeft),$(window).scrollTop(i.scrollTop),i.removeLoadingIndicator(),i.lock=0,typeof i._setPageCallback=="function"&&(i._setPageCallback(),i._setPageCallback=null),i._trigger(n.setPageDone)},_addSetPageCallback:function(n){if(typeof n=="function"){var t=this,i=t._setPageCallback;t._setPageCallback=i===null?n:function(){i(),n()}}},allowZoom:function(t){var i=this;t===!0?(forerunner.device.allowZoom(!0),i.allowSwipe(!1)):(forerunner.device.allowZoom(!1),i.allowSwipe(!0)),i._trigger(n.allowZoom,null,{isEnabled:t})},_allowSwipeState:!1,allowSwipe:function(n){var t=this;$(t.element).data("swipeEnabled",n)},_touchNav:function(){var n=this;$(n.element).hammer({}).on("swipe drag touch release",function(t){if(t.gesture)switch(t.type){case"touch":n._hideTableHeaders();break;case"swipe":case"drag":if($(n.element).data("swipeEnabled")==!1)return;t.gesture.direction=="left"&&t.gesture.velocityX>.2&&n.navToPage(n.curPage+1),t.gesture.direction=="right"&&t.gesture.velocityX>.2&&n.navToPage(n.curPage-1);break;case"release":t.gesture.velocityX==0&&t.gesture.velocityY==0&&n._updateTableHeaders(n)}})},refreshReport:function(){var n=this,t=null;n.lock!==1&&(n.sessionID="",n.lock=1,n.paramLoaded===!0&&(t=n.options.paramArea.reportParameter("getParamsList")),n._resetViewer(!0),n._loadPage(1,!1,null,t,!0))},navToPage:function(n){var t=this;n!==t.curPage&&t.lock!==1&&(t.scrollLeft=0,t.scrollTop=0,n>t.numPages&&(n=1),n<1&&(n=t.numPages),n!==t.curPage&&t.lock===0&&(t.lock=1,t._loadPage(n,!1)))},_hideDocMap:function(){var t=this,i=t.options.docMapArea;i.hide(),t.element.show(),t._trigger(n.hideDocMap)},_showDocMap:function(){var t=this,i=t.options.docMapArea;i.reportDocumentMap({$reportViewer:t}),t.docMapData||$.ajax({url:t.options.reportViewerAPI+"/DocMapJSON/",data:{SessionID:t.sessionID},dataType:"json",async:!1,success:function(n){t.docMapData=n,i.reportDocumentMap("write",n)},fail:function(){forerunner.dialog.showMessageBox("Fail")}}),t.savedTop=$(window).scrollTop(),t.savedLeft=$(window).scrollLeft(),t.savedTop=$(window).scrollTop(),t.element.hide(),i.slideUpShow(),t._trigger(n.showDocMap)},_removeDocMap:function(){$(".fr-docmap-panel").length!==0&&$(".fr-docmap-panel").remove()},hideDocMap:function(){var n=this,t=n.options.docMapArea;n.hasDocMap&&t&&t.is(":visible")&&n._hideDocMap()},showDocMap:function(){var n=this,t=n.options.docMapArea;if(n.hasDocMap&&t){if(t.is(":visible")){n._hideDocMap();return}n._showDocMap()}},_cachePages:function(n){var i=this,r=n-1,u=n+1,t;for(r<1&&(r=1),u>i.numPages&&(u=i.numPages),t=r;t<=u;t++)i.pages[t]||t!==n&&i._loadPage(t,!0)},back:function(){var t=this,i=t.actionHistory.pop();i?(t.options.reportPath=i.ReportPath,t.sessionID=i.SessionID,t._trigger(n.drillBack),t._removeParameters(),t.scrollLeft=i.ScrollLeft,t.scrollTop=i.ScrollTop,i.FlushCache&&t.flushCache(),t._loadParameters(i.CurrentPage)):t._trigger(n.back,null,{path:t.options.reportPath})},showNav:function(){var t=this;t.pageNavOpen?(t.pageNavOpen=!1,document.body.parentNode.style.overflow="scroll"):(t.pageNavOpen=!0,document.body.parentNode.style.overflow="hidden"),t.options.pageNavArea&&t.options.pageNavArea.pageNav("showNav"),t._trigger(n.showNav,null,{path:t.options.reportPath,open:t.pageNavOpen})},flushCache:function(){var n=this;n.pages={},n.options.pageNavArea&&n.options.pageNavArea.pageNav("reset")},_prepareAction:function(){var n=this;(n.togglePageNum!==n.curPage||n.togglePageNum===0)&&$.ajax({url:n.options.reportViewerAPI+"/GetReportJSON/",data:{ReportPath:n.options.reportPath,SessionID:n.sessionID,PageNumber:n.curPage,ParameterList:""},dataType:"json",async:!1,success:function(){n.togglePageNum=n.curPage},fail:function(){forerunner.dialog.showMessageBox("Fail")}})},sort:function(n,t){var i=this,u,r=forerunner.ssr.constants.sortDirection;i.lock!==1&&(i.lock=1,u=n===r.asc?r.desc:r.asc,$.getJSON(i.options.reportViewerAPI+"/SortReport/",{SessionID:i.sessionID,SortItem:t,Direction:u}).done(function(n){i.scrollLeft=$(window).scrollLeft(),i.scrollTop=$(window).scrollTop(),i.numPages=n.NumPages,i._loadPage(n.NewPage,!1,null,null,!0)}).fail(function(){console.log("error"),i.removeLoadingIndicator()}))},toggleItem:function(n){var i=this;i.lock!==1&&(i.lock=1,i._addLoadingIndicator(),i._prepareAction(),$.getJSON(i.options.reportViewerAPI+"/NavigateTo/",{NavType:t.toggle,SessionID:i.sessionID,UniqueID:n}).done(function(n){n.Result===!0&&(i.scrollLeft=$(window).scrollLeft(),i.scrollTop=$(window).scrollTop(),i.pages[i.curPage]=null,i._loadPage(i.curPage,!1))}).fail(function(){console.log("error"),i.removeLoadingIndicator()}))},navigateBookmark:function(n){var i=this;i.lock!==1&&(i.lock=1,i._prepareAction(),$.getJSON(i.options.reportViewerAPI+"/NavigateTo/",{NavType:t.bookmark,SessionID:i.sessionID,UniqueID:n}).done(function(t){t.NewPage===i.curPage?(i._navToLink(n),i.lock=0):(i.backupCurPage(),i._loadPage(t.NewPage,!1,n))}).fail(function(){console.log("error"),i.removeLoadingIndicator()}))},isDrillThoughReport:function(){var n=this;return n.origionalReportPath===n.options.reportPath?!0:!1},navigateDrillthrough:function(i){var r=this;r.lock!==1&&(r.lock=1,r._addLoadingIndicator(),r._prepareAction(),$.getJSON(r.options.reportViewerAPI+"/NavigateTo/",{NavType:t.drillThrough,SessionID:r.sessionID,UniqueID:i}).done(function(t){r.backupCurPage(!0),t.Exception?(r.$reportAreaContainer.find(".Page").reportRender("writeError",t),r.removeLoadingIndicator()):(r.sessionID=t.SessionID,r.origionalReportPath===""&&(r.origionalReportPath=r.options.reportPath),r.options.reportPath=t.ReportPath,r._trigger(n.drillThrough,null,{path:t.ReportPath}),t.ParametersRequired?(r.$reportAreaContainer.find(".Page").detach(),r._setScrollLocation(0,0),r._showParameters(1,t.Parameters)):(r._setScrollLocation(0,0),r._loadPage(1,!1,null,null,!0)))}).fail(function(){console.log("error"),r.removeLoadingIndicator()}))},navigateDocumentMap:function(n){var i=this;i.lock!==1&&(i.lock=1,$.getJSON(i.options.reportViewerAPI+"/NavigateTo/",{NavType:t.docMap,SessionID:i.sessionID,UniqueID:n}).done(function(t){i.backupCurPage(!1,!0),i.hideDocMap(),i._loadPage(t.NewPage,!1,n)}).fail(function(){console.log("error"),i.removeLoadingIndicator()}))},backupCurPage:function(n,t){var i=this,r=$(window).scrollTop(),u=$(window).scrollLeft();n!==!0&&(n=!1),t===!0&&(r=i.savedTop,u=i.savedLeft),i.actionHistory.push({ReportPath:i.options.reportPath,SessionID:i.sessionID,CurrentPage:i.curPage,ScrollTop:r,ScrollLeft:u,FlushCache:n})},_setScrollLocation:function(n,t){var i=this;i.scrollLeft=t,i.scrollTop=n},find:function(n,t,i,r){var u=this;if(u.finding&&!r)u._findNext(n);else{if(n==="")return;if(u.findKeyword&&u.findKeyword===n||(u.findKeyword=n,u.findStartPage=null),t===undefined&&(t=u.getCurPage()),i===undefined&&(i=u.getNumPages()),t>i){u.resetFind(),forerunner.dialog.showMessageBox(u.locData.messages.completeFind);return}u.findStartPage===null&&(u.findStartPage=t),$.getJSON(u.options.reportViewerAPI+"/FindString/",{SessionID:u.sessionID,StartPage:t,EndPage:i,FindValue:n}).done(function(t){t.NewPage!==0?(u.finding=!0,t.NewPage!==u.getCurPage()?(u._addSetPageCallback(function(){u.setFindHighlight(n)}),u.pages[t.NewPage]=null,u._loadPage(t.NewPage,!1)):u.setFindHighlight(n)):u.findStartPage!==1?(u.find(n,1,u.findStartPage-1),u.findStartPage=1):(u.finding===!0?forerunner.dialog.showMessageBox(u.locData.messages.completeFind):forerunner.dialog.showMessageBox(u.locData.messages.keyNotFound),u.resetFind())}).fail(function(){console.log("error"),u.removeLoadingIndicator()})}},_findNext:function(n){var t=this,i,r;if($(".fr-render-find-keyword").filter(".fr-render-find-highlight").first().removeClass("fr-render-find-highlight"),i=$(".fr-render-find-keyword").filter(":visible").filter(".Unread").first(),i.length>0)i.removeClass("Unread").addClass("fr-render-find-highlight").addClass("Read"),$(window).scrollTop(i.offset().top-150),$(window).scrollLeft(i.offset().left-250);else{if(t.getNumPages()===1){forerunner.dialog.showMessageBox(t.locData.messages.completeFind),t.resetFind();return}r=t.findEndPage?t.findEndPage:t.getNumPages(),t.getCurPage()+1<=r?t.find(n,t.getCurPage()+1,undefined,!0):t.findStartPage>1?(t.findEndPage=t.findStartPage-1,t.getCurPage()===t.findEndPage?(forerunner.dialog.showMessageBox(t.locData.messages.completeFind),t.resetFind()):t.find(n,1,t.findStartPage-1,!0)):(forerunner.dialog.showMessageBox(t.locData.messages.completeFind),t.resetFind())}},setFindHighlight:function(n){var i=this,t;i._clearHighLightWord(),i._highLightWord(i.$reportContainer,n),t=i.$reportContainer.find(".fr-render-find-keyword").filter(":visible").filter(".Unread").first(),t.length>0&&(t.removeClass("Unread").addClass("fr-render-find-highlight").addClass("Read"),$(window).scrollTop(t.offset().top-150),$(window).scrollLeft(t.offset().left-250))},resetFind:function(){var n=this;n.finding=!1,n.findKeyword=null,n.findStartPage=null,n.findEndPage=null},exportReport:function(n){var t=this,i=t.options.reportViewerAPI+"/ExportReport/?ReportPath="+t.getReportPath()+"&SessionID="+t.getSessionID()+"&ParameterList=&ExportType="+n;window.open(i)},showPrint:function(){var n=this,t=n.options.printArea;t.reportPrint("togglePrintPane")},printReport:function(n){var t=this,i=t.options.reportViewerAPI+"/PrintReport/?ReportPath="+t.getReportPath()+"&SessionID="+t.getSessionID()+"&ParameterList=&PrintPropertyString="+n;window.open(i)},_setPrint:function(n){var i=this,t=i.options.printArea;t.reportPrint({$reportViewer:this}),t.reportPrint("setPrint",n)},_loadParameters:function(n){var t=this;$.getJSON(t.options.reportViewerAPI+"/ParameterJSON/",{ReportPath:t.options.reportPath}).done(function(i){t._addLoadingIndicator(),t._showParameters(n,i)}).fail(function(){console.log("error"),t.removeLoadingIndicator()})},_showParameters:function(t,i){var r=this,u;i.Type==="Parameters"?(r._removeParameters(),u=r.options.paramArea,u&&(u.reportParameter({$reportViewer:this}),r._trigger(n.showParamArea),u.reportParameter("writeParameterPanel",i,r,t),r.paramLoaded=!0)):i.Exception?(r.$reportContainer.reportRender({reportViewer:this}),r.$reportContainer.reportRender("writeError",i),r.removeLoadingIndicator()):r._loadPage(t,!1)},_removeParameters:function(){var n=this,t;n.paramLoaded===!0&&(t=n.options.paramArea,t&&(t.reportParameter("removeParameter"),n.paramLoaded=!1))},_resetViewer:function(n){var t=this;t.numPages=0,t.floatingHeaders=[],n||(t.paramLoaded=!1),t.scrollTop=0,t.scrollLeft=0,t.finding=!1,t.findStartPage=null,t.hasDocMap=!1,t.docMapData=null,t.togglePageNum=0,t.findKeyword=null,t.origionalReportPath=""},loadReport:function(n,t){var i=this;i._resetViewer(),i.options.reportPath=n,i.options.pageNum=t,i._loadParameters(t)},loadReportWithNewParameters:function(n){var t=this;t._resetViewer(!0),t._loadPage(1,!1,null,n,!0)},_loadPage:function(n,t,i,r,u){var f=this;if(u===!0&&f.flushCache(),f.pages[n]&&f.pages[n].$container){t||(f._setPage(n),f.element.is(":visible")||t||f.element.show(),i&&f._navToLink(i),u!==!0&&f._cachePages(n));return}r||(r=""),t||f._addLoadingIndicator(),f.togglePageNum=n,$.getJSON(f.options.reportViewerAPI+"/ReportJSON/",{ReportPath:f.options.reportPath,SessionID:f.sessionID,PageNumber:n,ParameterList:r}).done(function(r){f._writePage(r,n,t),r.ReportContainer&&f._setPrint(r.ReportContainer.Report.PageContent.PageLayoutStart),f.element.is(":visible")||t||f.element.show(),i&&f._navToLink(i),t||u===!0||f._cachePages(n)}).fail(function(){console.log("error"),f.removeLoadingIndicator()})},_writePage:function(n,t,i){var u=this,f=$("<Div/>");if(f.addClass("Page"),n){f.reportRender({reportViewer:u}),u.pages[t]?(u.pages[t].$container=f,u.pages[t].reportObj=n):u.pages[t]=new r(f,n),u.sessionID=n.SessionID?n.SessionID:"";try{u.numPages=n.ReportContainer.NumPages===undefined?0:n.ReportContainer.NumPages}catch(e){u.numPages=0}i||(u._renderPage(t),u._setPage(t))}},_renderPage:function(n){var t=this;t.pages[n]&&t.pages[n].isRendered===!0||(t.pages[n].reportObj.Exception?t.pages[n].$container.reportRender("writeError",t.pages[n].reportObj):(t.hasDocMap=t.pages[n].reportObj.HasDocMap,t.pages[n].$container.reportRender("render",t.pages[n].reportObj)),t.pages[n].isRendered=!0)},_sessionPing:function(){var n=this;n.sessionID&&n.sessionID!==""&&$.getJSON(n.options.reportViewerAPI+"/PingSession",{PingSessionID:n.sessionID}).done(function(t){t.Status==="Fail"&&(n.sessionID="")}).fail(function(){console.log("ping error")})},_updateTableHeaders:function(n){$.each(n.floatingHeaders,function(t,i){n._setRowHeaderOffset(i.$tablix,i.$rowHeader),n._setColHeaderOffset(i.$tablix,i.$colHeader)})},_hideTableHeaders:function(){var n=this;$.each(n.floatingHeaders,function(n,t){t.$rowHeader&&t.$rowHeader.hide(),t.$colHeader&&t.$colHeader.hide()}),n.$floatingToolbar&&n.$floatingToolbar.hide()},_navToLink:function(n){var t=this,i=t.element.find("[name='"+n+"']")[0];$(document).scrollTop($(i).offset().top-100)},_stopDefaultEvent:function(n){window.ActiveXObject?window.event.returnValue=!1:(n.preventDefault(),n.stopPropagation())},_getHeight:function(n){var i,t=n.clone().css({visibility:"hidden"});return t.find("img").remove(),$("body").append(t),i=t.height()+"px",t.remove(),this._convertToMM(i)},_convertToMM:function(n){if(!n)return 0;var i=n.match(/\D+$/),t=n.match(/\d+/);i.length===1&&(i=i[0]),t.length===1&&(t=t[0]);switch(i){case"px":return t/3.78;case"pt":return t*.352777777778;case"in":return t*25.4;case"mm":return t;case"cm":return t*10;case"em":return t*4.2175176}return t},_highLightWord:function(n,t){if(t&&t!==""){var i=this;$(n).each(function(){var n=$(this).get(0);n.normalize(),$.each(n.childNodes,function(n,r){var u,f,e,o,s;if(r.nodeType===3){u=r;try{for(f=u.data.toUpperCase().indexOf(t.toUpperCase());f<u.data.length;){if(f>=0)e=document.createElement("span"),e.className="fr-render-find-keyword Unread",o=u.splitText(f),u=o.splitText(t.length),s=o.cloneNode(!0),e.appendChild(s),r.parentNode.replaceChild(e,o);else break;f=u.data.toUpperCase().indexOf(t.toUpperCase())}}catch(h){}}else i._highLightWord($(r),t)})})}else return;return $(this)},_clearHighLightWord:function(){$(".fr-render-find-keyword").each(function(){var n=document.createTextNode($(this).text());$(this).replaceWith($(n))})}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var t=forerunner.ssr.constants.widgets,n=forerunner.ssr.constants.toolTypes,i="fr-toolbase-dropdown-container";$.widget(t.getFullname(t.toolBase),{options:{toolClass:null},addTools:function(n,t,i){var r=this,u=r.element.find("."+r.options.toolClass);r._addChildTools(u,n,t,i),t?r.enableTools(i):r.disableTools(i)},_addChildTools:function(n,t,i,r){var u=this,e,h,c,f,o,s;for(u.allTools=u.allTools||{},e=$(u._getToolHtml(r[0])),t<=1?n.prepend(e):t>n.children().length?n.append(e):(h=":nth-child("+t+")",c=n.children(h),c.before(e)),f=e,u._addChildTool(f,r[0],i),o=1;o<r.length;o++)s=r[o],f.after(u._getToolHtml(s)),f=f.next(),u._addChildTool(f,s,i)},_addChildTool:function(t,i,r){var u=this;u.allTools[i.selectorClass]=i,i.toolType===n.toolGroup&&i.tools&&u._addChildTools(t,1,r,i.tools),i.sharedClass&&t.addClass(i.sharedClass),i.tooltip&&t.attr("title",i.tooltip),i.dropdown&&u._createDropdown(t,i),i.visible===!1&&t.hide()},_createDropdown:function(n,t){var u=this;t.$dropdown=$("<div class='"+i+"'/>"),t.$dropdown.toolDropdown({$reportViewer:u.options.$reportViewer}),t.$dropdown.toolDropdown("addTools",1,!0,t.tools),n.append(t.$dropdown);var r=n.find("."+i),f=t.selectorClass,e=t.imageClass;n.on("click",{toolInfo:t,$tool:n},function(n){r.css("left",n.data.$tool.filter(":visible").offset().left),r.css("top",n.data.$tool.height()),r.toggle()});$(document).on("click",function(n){!r.is(":visible")||$(n.target).hasClass(f)||$(n.target).hasClass(e)||r.toggle()})},getTool:function(n){var t=this;return t.allTools[n]},showTool:function(n){var t=this,i;t.allTools[n]&&(i=$("."+n,t.element),i.css({display:""}))},showAllTools:function(){var n=this;$.each(n.allTools,function(t,i){i.selectorClass&&n.showTool(i.selectorClass)})},hideTool:function(n){var t=this,i;t.allTools[n]&&(i=$("."+n,t.element),i.hide())},hideAllTools:function(){var n=this;$.each(n.allTools,function(t,i){i.selectorClass&&n.hideTool(i.selectorClass)})},enableTools:function(t){var i=this;$.each(t,function(t,r){var u=$("."+r.selectorClass,i.element);u.removeClass("fr-toolbase-disabled"),r.events&&(u.addClass("fr-core-cursorpointer"),i._removeEvent(u,r),i._addEvents(u,r)),r.toolType===n.toolGroup&&r.tools&&i.enableTools(r.tools)})},disableTools:function(t){var i=this;$.each(t,function(t,r){var u=$("."+r.selectorClass,i.element);u.addClass("fr-toolbase-disabled"),r.events&&(u.removeClass("fr-core-cursorpointer"),i._removeEvent(u,r)),r.toolType===n.toolGroup&&r.tools&&i.disableTools(r.tools)})},enableAllTools:function(){var n=this;$.each(n.allTools,function(t,i){i.selectorClass&&n.allTools[i.selectorClass].isEnable&&n.enableTools([i])})},disableAllTools:function(){var n=this;$.each(n.allTools,function(t,i){if(i.selectorClass){var r=$("."+i.selectorClass,n.element);r.hasClass("fr-toolbase-no-disable-id")||(n.allTools[i.selectorClass].isEnable=!r.hasClass("fr-toolbase-disabled"),n.disableTools([i]))}})},_getToolHtml:function(t){var r=this,u,f,e,o,i,s,h;if(t.toolType===n.button)return"<div class='fr-toolbase-toolcontainer fr-toolbase-state "+t.selectorClass+"'><div class='fr-icons24x24 "+t.imageClass+"' /><\/div>";if(t.toolType===n.input)return u="",t.inputType&&(u=" type='"+t.inputType+"'"),"<input class='"+t.selectorClass+"'"+u+" />";if(t.toolType===n.textButton)return"<div class='fr-toolbase-textcontainer fr-toolbase-state "+t.selectorClass+"'>"+r._getText(t)+"<\/div>";if(t.toolType===n.plainText)return"<span class='"+t.selectorClass+"'> "+r._getText(t)+"<\/span>";if(t.toolType===n.containerItem){if(f="",t.text&&(f=r._getText(t)),e="",o="fr-indent24x24",t.imageClass&&(e=t.imageClass,o="fr-icons24x24"),i="",t.indent)for(s=0;s<t.indent;s++)i=i+"<div class='fr-indent24x24'><\/div>";return h="",t.rightImageClass&&(h="<div class='fr-toolbase-rightimage "+t.rightImageClass+"'><\/div>"),"<div class='fr-toolbase-itemcontainer fr-toolbase-state "+t.selectorClass+"'>"+i+"<div class='"+o+" "+e+"'><\/div>"+f+h+"<\/div>"}if(t.toolType===n.toolGroup)return"<div class='fr-toolbase-groupcontainer "+t.selectorClass+"'><\/div>"},_getText:function(n){var t=this;return typeof n.text=="function"?n.text({$reportViewer:t.options.$reportViewer}):n.text},_removeEvent:function(n,t){var r=this,i;for(i in t.events)typeof t.events[i]=="function"&&n.off(i)},_addEvents:function(n,t){var r=this,i;for(i in t.events)if(typeof t.events[i]=="function")n.on(i,null,{me:r,$reportViewer:r.options.$reportViewer},t.events[i])},_destroy:function(){},_create:function(){}}),$.widget("frInternal.toolDropdown",$.forerunner.toolBase,{options:{$reportViewer:null,toolClass:"fr-toolbase-dropdown"},_init:function(){var n=this;n.element.html("<div class='"+n.options.toolClass+"'/>")}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var r=forerunner.ssr.constants.widgets,t=forerunner.ssr.constants.events,n=forerunner.ssr.tools.toolbar,i=forerunner.ssr.tools.groups;$.widget(r.getFullname(r.toolbar),$.forerunner.toolBase,{options:{$reportViewer:null,toolClass:"fr-toolbar"},_initCallbacks:function(){var i=this;i.options.$reportViewer.on(t.reportViewerChangePage(),function(t,r){$("input.fr-toolbar-reportpage-textbox",i.$el).val(r.newPageNum);var u=i.options.$reportViewer.reportViewer("getNumPages");i._updateBtnStates(r.newPageNum,u),r.paramLoaded===!1&&i.disableTools([n.btnParamarea])});i.options.$reportViewer.on(t.reportViewerDrillBack(),function(){i._clearBtnStates()});i.options.$reportViewer.on(t.reportViewerShowParamArea(),function(){i.enableTools([n.btnParamarea])});i.options.$reportViewer.on(t.reportViewerShowDocMap(),function(){i.disableAllTools(),i.enableTools([n.btnDocumentMap,n.btnMenu,n.btnReportBack])});i.options.$reportViewer.on(t.reportViewerHideDocMap(),function(){i.enableAllTools()});i.options.$reportViewer.on(t.reportViewerShowNav(),function(t,r){r.open?(i.disableAllTools(),i.enableTools([n.btnNav,n.btnMenu])):i.enableAllTools()});i.enableTools([n.btnMenu,n.btnParamarea,n.btnNav,n.btnReportBack,n.btnRefresh,n.btnFirstPage,n.btnPrev,n.btnNext,n.btnLastPage,n.btnDocumentMap,n.btnFind,n.btnZoom])},_init:function(){var t=this;t.element.html("<div class='"+t.options.toolClass+"'/>"),t.addTools(1,!0,[n.btnMenu,n.btnReportBack,n.btnNav,n.btnRefresh,i.btnVCRGroup,n.btnDocumentMap,i.btnExportDropdown,i.btnFindGroup,n.btnZoom,n.btnPrint,n.btnParamarea]),t.options.$reportViewer&&t._initCallbacks()},_updateBtnStates:function(t,i){var r=this;r.element.find(".fr-toolbar-numPages-button").html(i),r.element.find(".fr-toolbar-reportpage-textbox").attr({max:i,min:1}),r.options.$reportViewer.reportViewer("getHasDocMap")?r.enableTools([n.btnDocumentMap]):r.disableTools([n.btnDocumentMap]),t<=1?r.disableTools([n.btnPrev,n.btnFirstPage]):r.enableTools([n.btnPrev,n.btnFirstPage]),t>=i?r.disableTools([n.btnNext,n.btnLastPage]):r.enableTools([n.btnNext,n.btnLastPage]),i===1?r.disableTools([n.btnNav]):r.enableTools([n.btnNav])},_clearBtnStates:function(){var n=this;n.element.find(".fr-toolbar-keyword-textbox").val("")},_destroy:function(){},_create:function(){var n=this}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var r=forerunner.ssr.constants.widgets,t=forerunner.ssr.constants.events,n=forerunner.ssr.tools.toolpane,i=forerunner.ssr.tools.groups;$.widget(r.getFullname(r.toolPane),$.forerunner.toolBase,{options:{$reportViewer:null,toolClass:"fr-toolpane"},_initCallbacks:function(){var i=this;i.options.$reportViewer.on(t.reportViewerChangePage(),function(n,t){$("input.fr-item-textbox-reportpage",i.$el).val(t.newPageNum);var r=i.options.$reportViewer.reportViewer("getNumPages");i._updateItemStates(t.newPageNum,r)});i.options.$reportViewer.on(t.reportViewerDrillBack(),function(){i._clearItemStates()});i.options.$reportViewer.on(t.reportViewerShowDocMap(),function(){i.disableAllTools(),i.enableTools([n.itemDocumentMap,n.itemReportBack])});i.options.$reportViewer.on(t.reportViewerHideDocMap(),function(){i.enableAllTools()});i.options.$reportViewer.on(t.reportViewerShowNav(),function(t,r){r.open?(i.disableAllTools(),i.enableTools([n.itemNav])):i.enableAllTools()});i.enableTools([n.itemFirstPage,n.itemPrev,n.itemNext,n.itemLastPage,n.itemNav,n.itemReportBack,n.itemRefresh,n.itemDocumentMap,n.itemFind])},_init:function(){var t=this;t.element.html("<div class='"+t.options.toolClass+"'/>"),t.addTools(1,!0,[i.itemVCRGroup,n.itemNav,n.itemReportBack,n.itemRefresh,n.itemDocumentMap,n.itemZoom,n.itemExport,i.itemExportGroup,n.itemPrint,i.itemFindGroup]),t.options.$reportViewer&&t._initCallbacks()},_updateItemStates:function(t,i){var r=this;r.element.find(".fr-toolbar-numPages-button").html(i),r.element.find(".fr-item-textbox-reportpage").attr({max:i,min:1}),r.options.$reportViewer.reportViewer("getNumPages",t),r.options.$reportViewer.reportViewer("getHasDocMap")?r.enableTools([n.itemDocumentMap]):r.disableTools([n.itemDocumentMap]),t>1?r.enableTools([n.itemPrev,n.itemFirstPage]):r.disableTools([n.itemPrev,n.itemFirstPage]),t<i?r.enableTools([n.itemNext,n.itemLastPage]):r.disableTools([n.itemNext,n.itemLastPage]),i===1?r.disableTools([n.itemNav]):r.enableTools([n.itemNav])},_clearItemStates:function(){var n=this;n.element.find(".fr-item-textbox-keyword").val("")}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets,t=forerunner.ssr.constants.events;$.widget(n.getFullname(n.pageNav),{options:{$reportViewer:null},_create:function(){},_setCurrentPage:function(n){var t=this;t.currentPageNum!==null&&t.currentPageNum!==n&&t.listItems[t.currentPageNum-1].removeClass("fr-nav-selected"),t.currentPageNum=n,t._ScrolltoPage(),t.listItems[t.currentPageNum-1].addClass("fr-nav-selected")},_ScrolltoPage:function(){var n=this,t;n.currentPageNum&&!forerunner.device.isElementInViewport(n.listItems[n.currentPageNum-1].get(0))&&(t=n.$ul.scrollLeft()+n.listItems[n.currentPageNum-1].position().left,n.$ul.scrollLeft(t))},_renderList:function(){var n=this,l=forerunner.device.isTouch(),u,t,e,i,f,r;u=new $("<UL />"),u.addClass("fr-nav-container"),n.$ul=u;var o=n.options.$reportViewer.reportViewer("getNumPages"),s=n.options.$reportViewer.reportViewer("getSessionID"),h=n.options.$reportViewer.reportViewer("getReportViewerAPI"),c=n.options.$reportViewer.reportViewer("getReportPath");for(n.listItems=new Array(o),t=1;t<=o;t++)e=h+"/GetThumbnail/?ReportPath="+c+"&SessionID="+s+"&PageNumber="+t,i=new $("<LI />"),u.append(i),n.listItems[t-1]=i,f=new $("<DIV />"),f.html("<h3 class='fr-report-centertext'>"+t.toString()+"<\/h3>"),f.addClass("fr-report-center"),r=new $("<IMG />"),r.addClass("fr-nav-page-thumb"),r.attr("src",e),r.data("pageNumber",t),this._on(r,{click:function(t){n.options.$reportViewer.reportViewer("navToPage",$(t.currentTarget).data("pageNumber")),forerunner.device.isSmall()&&n.options.$reportViewer.reportViewer("showNav")}}),i.addClass("fr-nav-item"),i.append(f),i.append(r);return u.append($("<LI />").addClass("fr-nav-li-spacer"))},reset:function(){var n=this;n.element.hide(),n.isRendered=!1},_render:function(){var n=this,u,t,i,r;n.element.html(""),u=forerunner.device.isTouch(),t=new $("<DIV />"),t.addClass("fr-nav-container"),i=new $("<DIV />"),t.append(i),r=n._renderList(),i.append(r),n.element.css("display","block"),n.element.append(t),n.element.hide(),n._initCallbacks(),n._setCurrentPage(n.options.$reportViewer.reportViewer("getCurPage"))},_makeVisible:function(n){var t=this;n?(t.element.fadeIn("fast"),t._ScrolltoPage()):t.element.fadeOut("fast")},showNav:function(){var n=this;n.isRendered||(n._render(),n.isRendered=!0),n._makeVisible(!n.element.is(":visible"))},_initCallbacks:function(){var n=this;n.options.$reportViewer.on(t.reportViewerChangePage(),function(t,i){n._setCurrentPage(i.newPageNum)})},_init:function(){var n=this;n.listItems=null,n.$ul=null,n.currentPageNum=null,n.isRendered=!1}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var t=forerunner.ssr.constants.widgets,n=forerunner.ssr.tools.reportExplorerToolbar;$.widget(t.getFullname(t.reportExplorerToolbar),$.forerunner.toolBase,{options:{navigateTo:null,toolClass:"fr-toolbar"},_initCallbacks:function(){var t=this;t.enableTools([n.btnHome,n.btnBack,n.btnFav,n.btnRecent])},_init:function(){var t=this;t.element.empty(),t.element.append($("<div/>").addClass(t.options.toolClass)),t.addTools(1,!0,[n.btnBack,n.btnHome,n.btnFav,n.btnRecent]),t._initCallbacks()},_destroy:function(){},_create:function(){var n=this}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets;$.widget(n.getFullname(n.reportExplorer),{options:{reportManagerAPI:forerunner.config.forerunnerAPIBase()+"ReportManager",forerunnerPath:forerunner.config.forerunnerFolder(),path:null,view:null,selectedItemPath:null,$scrollBarOwner:null,navigateTo:null},_generatePCListItem:function(n,t){var e=this,a=e.options.reportManagerAPI+"/GetThumbnail/?ReportPath="+encodeURIComponent(n.Path)+"&DefDate="+n.ModifiedDate,u=new $("<div />"),s,l,f,i,r,o,h,c;u.addClass("fr-explorer-item"),t&&u.addClass("fr-explorer-item-selcted"),s=new $("<a />"),l=n.Type===1?"explore":"browse";s.on("click",function(){e.options.navigateTo&&e.options.navigateTo(l,n.Path)});return u.append(s),f=new $("<div />"),f.addClass("fr-report-item-image-block"),s.append(f),i=new $("<div />"),f.append(i),n.Type===1?t?i.addClass("fr-explorer-folder-selected"):i.addClass("fr-explorer-folder"):(r=new $("<img />"),f.append(r),o=new $("<div />"),f.append(o),imageSrc=a,r.addClass("fr-report-item-inner-image"),r.addClass("fr-report-item-image-base"),i.addClass("fr-report-item-image-base"),o.addClass("fr-report-item-image-base"),t?(i.addClass("fr-report-item-outer-image-selected"),o.addClass("fr-explorer-item-ear-selcted")):(i.addClass("fr-report-item-outer-image"),o.addClass("fr-report-item-ear-image")),r.attr("src",imageSrc),r.error(function(){$(this).attr("src",e.options.forerunnerPath+"/ReportExplorer/images/Report-icon.png")}),r.removeAttr("height")),t&&(e.$selectedItem=u),h=new $("<div />"),h.addClass("fr-explorer-caption"),c=new $("<div />"),c.addClass("fr-explorer-item-title"),c.html(n.Name),h.append(c),u.append(h),u},_renderPCView:function(n){var t=this,r,i,u,f;for(t.$UL=t.element.find(".fr-report-explorer"),r=t.options.selectedItemPath?decodeURIComponent(t.options.selectedItemPath):null,t.rmListItems=new Array(n.length),i=0;i<n.length;i++)u=n[i],f=!1,r&&r===decodeURIComponent(u.Path)&&(t.selectedItem=i,f=!0),t.rmListItems[i]=t._generatePCListItem(u,f),t.$UL.append(t.rmListItems[i])},_render:function(n){var t=this;t.element.html("<div class='fr-report-explorer'><\/div>"),t._renderPCView(n)},_setSelectionFromScroll:function(){for(var n=this,u=n.$explorer.scrollTop(),f=0,r=0,e=Math.abs(u-n.rmListItems[0].position().top),t,i=1;i<n.rmListItems.length;i++){if(t=Math.abs(u-n.rmListItems[i].position().top),t<e)f=i,e=t;else if(r!==0&&t>r)break;r=t}n.selectedItem=f},_fetch:function(n,t){var i=this;$.ajax({dataType:"json",url:i.options.reportManagerAPI+"/GetItems",async:!1,data:{view:n,path:t},success:function(n){i._render(n)},error:function(n){console.log(n),forerunner.dialog.showMessageBox("Failed to load the catalogs from the server.  Please try again.")}})},_initCallbacks:function(){var n=this},_init:function(){var n=this;n.$RMList=null,n.$UL=null,n.rmListItems=null,n.selectedItem=0,n.isRendered=!1,n.$explorer=n.options.$scrollBarOwner?n.options.$scrollBarOwner:$(window),n.$selectedItem=null,n._fetch(n.options.view,n.options.path)}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){function n(n,t,i,r,u,f,e){this.RS=n,this.CurrObj=t,this.CurrObjIndex=i,this.CurrObjParent=r,this.$HTMLParent=u,this.Style=f,this.CurrLocation=e}function i(){this.ReportItems={},this.Height=0,this.LowestIndex=null}function r(n,t){this.Height=n,this.Width=t}function u(n){this.TopDelta=0,this.Height=0,this.Index=n,this.IndexAbove=null,this.NewHeight=null,this.NewTop=null}function f(n,t,i){this.$tablix=n,this.$rowHeader=t,this.$colHeader=i}var t=forerunner.ssr.constants.widgets;$.widget(t.getFullname(t.reportRender),{options:{reportViewer:null},_create:function(){},render:function(t){var i=this,u=i.element,r=i.options.reportViewer;$.each(t.ReportContainer.Report.PageContent.Sections,function(f,e){i._writeSection(new n(r,e,f,t.ReportContainer.Report.PageContent,u,""))}),i._addPageStyle(r,t.ReportContainer.Report.PageContent.PageLayoutStart.PageStyle)},_addPageStyle:function(n,t){var i=this,u=i._getStyle(n,t),r=new $("<div class='fr-render-bglayer'><\/div>");r.attr("style",u),i.element.append(r)},writeError:function(n){var i=this,r=i.options.reportViewer.locData.errorTag,u,t;if(n.Exception.Type==="LicenseException")u=new $("<div class='fr-render-error-license'><div class='fr-render-error-license-container'><h3 class='fr-render-error-license-title'>Thanks for using Forerunner mobilizer, your mobilizer is expired or not registe.<br/> Please go to Forerunner Offical Site to get the latest build.<\/h3><div class='fr-render-error-license-link'><a href='http://www.forerunnersw.com'><strong>Go to Forerunner !<strong><\/a><\/div><\/div><\/div>"),i.element.html(u);else if(i.element.html($("<div class='fr-render-error-message'><\/div><div class='fr-render-error-details'>"+r.moreDetail+"<\/div><div class='fr-render-error'><h3>"+r.serverError+"<\/h3><div class='fr-render-error fr-render-error-type'><\/div><div class='fr-render-error fr-render-error-targetsite'><\/div><div class='fr-render-error fr-render-error-source'><\/div><div class='fr-render-error fr-render-error-stacktrace'><\/div><\/div>")),i.options.reportViewer){t=i.element.find(".fr-render-error"),t.hide(),t=i.element.find(".fr-render-error-details");t.on("click",{$Detail:i.element.find(".fr-render-error")},function(n){n.data.$Detail.show(),$(n.target).hide()});t=i.element.find(".fr-render-error-type"),t.append("<h4>"+r.type+":<\/h4>"+n.Exception.Type),t=i.element.find(".fr-render-error-targetsite"),t.html("<h4>"+r.targetSite+":<\/h4>"+n.Exception.TargetSite),t=i.element.find(".fr-render-error-source"),t.html("<h4>"+r.source+":<\/h4>"+n.Exception.Source),t=i.element.find(".fr-render-error-message"),t.html("<h4>"+r.message+":<\/h4>"+n.Exception.Message),t=i.element.find(".fr-render-error-stacktrace"),t.html("<h4>"+r.stackTrace+":<\/h4>"+n.Exception.StackTrace)}},_writeSection:function(t){for(var i=this,r=i._getDefaultHTMLTable(),f=$("<TR/>"),s=i._getMeasurmentsObj(t.CurrObjParent,t.CurrObjIndex),e,o,u=0;u<t.CurrObj.Measurement.Count;u++)t.CurrObj.Measurement.Measurements[u].Type==="PageHeader"&&(e=u),t.CurrObj.Measurement.Measurements[u].Type==="PageFooter"&&(o=u);t.CurrObj.PageHeader&&r.append(i._writeHeaderFooter(t,"PageHeader",e)),t.CurrObjParent.PageHeader&&r.append(i._writeHeaderFooter(new n(t.RS,t.CurrObjParent,null,null,null,null,null),"PageHeader",e)),f.attr("Style","width:"+s.Width+"mm;"),r.append(f),$.each(t.CurrObj.Columns,function(r,u){var e=new $("<TD/>");e.append(i._writeRectangle(new n(t.RS,u,r,t.CurrObj,new $("<Div/>"),null,s))),f.append(e)}),t.CurrObj.PageFooter&&r.append(i._writeHeaderFooter(t,"PageFooter",o)),t.CurrObjParent.PageFooter&&r.append(i._writeHeaderFooter(new n(t.RS,t.CurrObjParent,null,null,null,null,null),"PageFooter",o)),t.$HTMLParent.append(r)},_writeHeaderFooter:function(t,i,r){var o=this,u,f,e;if(t.CurrObj[i])return u=$("<TR/>"),f=$("<TD/>"),u.append(f),e=o._getMeasurmentsObj(t.CurrObj,r),u.attr("Style","width:"+e.Width+"mm;"),f.append(o._writeRectangle(new n(t.RS,t.CurrObj[i],r,t.CurrObj,new $("<DIV/>"),null,e))),u},_writeRectangle:function(t){var o,e,u,i,r,f=this,s;return u=t.CurrObj.Measurement.Measurements,i=f._getRectangleLayout(u),$.each(t.CurrObj.ReportItems,function(s,h){r="",h.Type!=="Line"&&(r="display:table;border-collapse:collapse;"+f._getFullBorderStyle(h)),o=f._writeReportItems(new n(t.RS,h,s,t.CurrObj,new $("<Div/>"),r,u[s])),e=new $("<Div/>"),e.append(o),r="",i.ReportItems[s].NewHeight=h.Type==="Image"||h.Type==="Chart"||h.Type==="Gauge"||h.Type==="Map"||h.Type==="Line"?u[s].Height:f._getHeight(o),i.ReportItems[s].NewTop=i.ReportItems[s].IndexAbove===null?u[s].Top:parseFloat(i.ReportItems[i.ReportItems[s].IndexAbove].NewTop)+parseFloat(i.ReportItems[i.ReportItems[s].IndexAbove].NewHeight)+parseFloat(i.ReportItems[s].TopDelta),r+="position:absolute;top:"+i.ReportItems[s].NewTop+"mm;left:"+u[s].Left+"mm;",t.CurrObj.ReportItems[s].Element&&t.CurrObj.ReportItems[s].Elements.SharedElements.Style&&t.CurrObj.ReportItems[s].Elements.SharedElements.Style.BackgroundColor?r+="background-color:"+t.CurrObj.ReportItems[s].Elements.SharedElements.Style.BackgroundColor+";":t.CurrObj.ReportItems[s].Element&&t.CurrObj.ReportItems[s].Elements.NonSharedElements.Style&&t.CurrObj.ReportItems[s].Elements.NonSharedElements.Style.BackgroundColor&&(r+="background-color:"+t.CurrObj.ReportItems[s].Elements.NonSharedElements.Style.BackgroundColor+";"),e.attr("Style",r),e.append(o),t.$HTMLParent.append(e)}),r="position:relative;"+f._getElementsStyle(t.RS,t.CurrObj.Elements),r+=f._getFullBorderStyle(t.CurrObj),t.CurrLocation&&(r+="width:"+t.CurrLocation.Width+"mm;",t.CurrObj.ReportItems.length===0?r+="height:"+(t.CurrLocation.Height+1)+"mm;":(s=parseFloat(i.ReportItems[i.LowestIndex].NewTop)+parseFloat(i.ReportItems[i.LowestIndex].NewHeight)+(parseFloat(t.CurrLocation.Height)-(parseFloat(u[i.LowestIndex].Top)+parseFloat(u[i.LowestIndex].Height)))+1,r+="height:"+s+"mm;")),t.$HTMLParent.attr("Style",r),t.CurrObj.Elements.NonSharedElements.UniqueName&&f._writeUniqueName(t.$HTMLParent,t.CurrObj.Elements.NonSharedElements.UniqueName),f._writeBookMark(t),t.$HTMLParent},_getRectangleLayout:function(n){var t=new i,r=this;return $.each(n,function(i,f){var e,o,s;for(t.ReportItems[i]=new u(i),e=t.ReportItems[i],r.isNull(t.LowestIndex)?t.LowestIndex=i:f.Top+f.Height>n[t.LowestIndex].Top+n[t.LowestIndex].Height&&(t.LowestIndex=i),o=0;o<n.length;o++)s=n[o].Top+n[o].Height,f.Top>s&&(e.IndexAbove?s>n[e.IndexAbove].Top+n[e.IndexAbove].Height&&(e.IndexAbove=o,e.TopDelta=f.Top-s):(e.IndexAbove=o,e.TopDelta=f.Top-s))}),t},_writeReportItems:function(n){var t=this;switch(n.CurrObj.Type){case"RichTextBox":return t._writeRichText(n);case"Image":case"Chart":case"Gauge":case"Map":return t._writeImage(n);case"Tablix":return t._writeTablix(n);case"Rectangle":return t._writeRectangle(n);case"SubReport":return t._writeSubreport(n);case"Line":return t._writeLine(n)}},_writeRichText:function(n){var t=n.Style,r=$("<div/>"),u=null,i=this,f,o,s,h,a,v;if(t+="display:table;",i._getMeasurements(i._getMeasurmentsObj(n.CurrObjParent,n.CurrObjIndex),!0)!==""&&(t+=i._getMeasurements(i._getMeasurmentsObj(n.CurrObjParent,n.CurrObjIndex),!0)),t+=i._getElementsNonTextStyle(n.RS,n.CurrObj.Elements),t+="position:relative;",n.$HTMLParent.attr("Style",t),n.CurrObj.Elements.SharedElements.IsToggleParent===!0||n.CurrObj.Elements.NonSharedElements.IsToggleParent===!0){f=$("<div/>"),f.attr("id",n.CurrObj.Elements.NonSharedElements.UniqueName),f.html("&nbsp"),n.CurrObj.Elements.NonSharedElements.ToggleState!==undefined&&n.CurrObj.Elements.NonSharedElements.ToggleState===!0?f.addClass("fr-render-drilldown-collapse"):f.addClass("fr-render-drilldown-expand");f.on("click",{ToggleID:n.CurrObj.Elements.NonSharedElements.UniqueName},function(n){i.options.reportViewer.toggleItem(n.data.ToggleID)});f.addClass("fr-core-cursorpointer"),n.$HTMLParent.append(f)}if(n.CurrObj.Elements.SharedElements.CanSort!==undefined){u=$("<div/>"),u.html("&nbsp"),o="None",s=forerunner.ssr.constants.sortDirection,n.CurrObj.Elements.NonSharedElements.SortState===2?(u.attr("class","fr-render-sort-descending"),o=s.desc):n.CurrObj.Elements.NonSharedElements.SortState===1?(u.attr("class","fr-render-sort-ascending"),o=s.asc):u.attr("class","fr-render-sort-unsorted");u.on("click",{Viewer:n.RS,SortID:n.CurrObj.Elements.NonSharedElements.UniqueName,Direction:o},function(n){n.data.Viewer.sort(n.data.Direction,n.data.SortID)});n.$HTMLParent.append(u)}if(i._writeActions(n,n.CurrObj.Elements.NonSharedElements,r),n.CurrObj.Elements.NonSharedElements.UniqueName&&i._writeUniqueName(r,n.CurrObj.Elements.NonSharedElements.UniqueName),t="white-space:pre-wrap;word-break:break-word;word-wrap:break-word;",t+="margin:0;display: table-cell;",h=i._getTextDirection(n.CurrObj.Elements),h!==""?(t+="width:"+n.CurrLocation.Height+"mm;height:"+n.CurrLocation.Width+"mm;",t+="position:absolute;",a=-(n.CurrLocation.Width-n.CurrLocation.Height)/2,v=-(n.CurrLocation.Height-n.CurrLocation.Width)/2,t+="left:"+v+"mm;top:"+a+"mm;",r.addClass(h)):t+="width:100%;height:100%;",n.CurrObj.Paragraphs.length===0)n.CurrObj.Elements.SharedElements.Value?(r.html(n.CurrObj.Elements.SharedElements.Value),t+=i._getElementsTextStyle(n.CurrObj.Elements)):n.CurrObj.Elements.NonSharedElements.Value?(r.html(n.CurrObj.Elements.NonSharedElements.Value),t+=i._getElementsTextStyle(n.CurrObj.Elements)):r.html("&nbsp");else{var c=null,l={},e={};e.Root="",t+="float: right",t+=i._getElementsTextStyle(n.CurrObj.Elements),$.each(n.CurrObj.Paragraphs,function(n,t){c===null&&(c=t.Paragraph.SharedElements.ListLevel),e[t.Paragraph.SharedElements.ListLevel]||(e[t.Paragraph.SharedElements.ListLevel]=[]),l[t.Paragraph.SharedElements.ListLevel]=t.Paragraph.NonSharedElements.UniqueName;var i;i=l[t.Paragraph.SharedElements.ListLevel-1]?l[t.Paragraph.SharedElements.ListLevel-1]:"Root",i={Parent:i,Value:t},e[t.Paragraph.SharedElements.ListLevel].push(i)}),i._writeRichTextItem(n,e,c,"Root",r)}return i._writeBookMark(n),r.attr("Style",t),n.$HTMLParent.append(r),u&&n.$HTMLParent.append(u),n.$HTMLParent},_writeRichTextItem:function(n,t,i,r,u){var f=null,e=this;$.each(t[i],function(o,s){var l,a,h,c,y,v;if(s.Parent===r){for(a="font-size:small;",s=s.Value,s.Paragraph.SharedElements.ListStyle===1?(f&&f.is("ol")||(f=new $("<OL />")),f.addClass(e._getListStyle(1,s.Paragraph.SharedElements.ListLevel)),l=new $("<LI />")):s.Paragraph.SharedElements.ListStyle===2?(f&&f.is("ul")||(f=new $("<UL />")),f.addClass(e._getListStyle(2,s.Paragraph.SharedElements.ListLevel)),l=new $("<LI />")):(f&&f.is("div")||(f=new $("<DIV />")),l=new $("<DIV />")),a+=e._getMeasurements(e._getMeasurmentsObj(s,i)),a+=e._getElementsStyle(n.RS,s.Paragraph),l.attr("Style",a),l.attr("name",s.Paragraph.NonSharedElements.UniqueName),h=0;h<s.TextRunCount;h++)y=!0,s.TextRuns[h].Elements.NonSharedElements.ActionInfo?(c=new $("<A />"),e._writeActions(n,s.TextRuns[h].Elements.NonSharedElements,c)):c=new $("<SPAN />"),s.TextRuns[h].Elements.SharedElements.Value&&s.TextRuns[h].Elements.SharedElements.Value!==""?c.html(s.TextRuns[h].Elements.SharedElements.Value):s.TextRuns[h].Elements.NonSharedElements.Value&&s.TextRuns[h].Elements.NonSharedElements.Value!==""?c.html(s.TextRuns[h].Elements.NonSharedElements.Value):(c.html("&nbsp"),y=!1),c.attr("Name",s.TextRuns[h].Elements.NonSharedElements.UniqueName),y&&(v="",v+=e._getMeasurements(e._getMeasurmentsObj(s.TextRuns[h],h)),v+=e._getElementsTextStyle(s.TextRuns[h].Elements),c.attr("Style",v)),l.append(c);t[i+1]&&e._writeRichTextItem(n,t,i+1,s.Paragraph.NonSharedElements.UniqueName,l),f.attr("style","width:100%;height:100%;"),f.append(l),u.append(f)}})},_writeUniqueName:function(n,t){n.attr("name",t)},_getImageURL:function(n,t){var r=this,i=r.options.reportViewer.options.reportViewerAPI+"/GetImage/?";return i+("SessionID="+r.options.reportViewer.sessionID),i+="&ImageID="+t,i+("#"+(new Date).getTime())},_writeImage:function(n){var i=new Image,t=this,r=n.Style+"display:block;max-height:100%;max-width:100%;"+t._getElementsStyle(n.RS,n.CurrObj.Elements),u,f;return r+t._getMeasurements(t._getMeasurmentsObj(n.CurrObjParent,n.CurrObjIndex),!0),r+="overflow:hidden;",f=n.CurrObj.Elements.SharedElements.Sizing,u=n.CurrObj.Type==="Image"?n.CurrObj.Elements.NonSharedElements.ImageDataProperties.ImageName:n.CurrObj.Elements.NonSharedElements.StreamName,n.CurrObj.Elements.NonSharedElements.ActionImageMapAreas&&(i.useMap="#Map_"+n.RS.sessionID+"_"+n.CurrObj.Elements.NonSharedElements.UniqueName),i.onload=function(){var r=t._getNatural(this);t._writeActionImageMapAreas(n,i.width,i.height),t._resizeImage(this,f,r.height,r.width,n.CurrLocation.Height,n.CurrLocation.Width)},i.alt=t.options.reportViewer.locData.messages.imageNotDisplay,$(i).attr("style","display:block;"),i.src=this._getImageURL(n.RS,u),t._writeActions(n,n.CurrObj.Elements.NonSharedElements,$(i)),t._writeBookMark(n),n.CurrObj.Elements.NonSharedElements.UniqueName&&t._writeUniqueName($(i),n.CurrObj.Elements.NonSharedElements.UniqueName),n.$HTMLParent.attr("style",r),t._writeBookMark(n),n.$HTMLParent.append(i),n.$HTMLParent},_writeActions:function(n,t,i){if(t.ActionInfo)for(var r=0;r<t.ActionInfo.Count;r++)this._writeAction(n,t.ActionInfo.Actions[r],i)},_writeAction:function(n,t,i){var r=this;if(t.HyperLink)i.attr("href",t.HyperLink);else if(t.BookmarkLink){i.attr("href","#"),i.addClass("fr-core-cursorpointer");i.on("click",{BookmarkID:t.BookmarkLink},function(n){r._stopDefaultEvent(n),r.options.reportViewer.navigateBookmark(n.data.BookmarkID)})}else{i.addClass("fr-core-cursorpointer"),i.attr("href","#");i.on("click",{DrillthroughId:t.DrillthroughId},function(n){r._stopDefaultEvent(n),r.options.reportViewer.navigateDrillthrough(n.data.DrillthroughId)})}},_writeActionImageMapAreas:function(n,t,i){var l=n.CurrObj.Elements.NonSharedElements.ActionImageMapAreas,v=v,s,h,r,u,f,c,o,a,e;if(l){for(s=$("<MAP/>"),s.attr("name","Map_"+n.RS.sessionID+"_"+n.CurrObj.Elements.NonSharedElements.UniqueName),s.attr("id","Map_"+n.RS.sessionID+"_"+n.CurrObj.Elements.NonSharedElements.UniqueName),h=0;h<l.Count;h++)for(r=l.ActionInfoWithMaps[h],u=0;u<r.ImageMapAreas.Count;u++){f=$("<AREA />"),f.attr("tabindex",h+1),f.attr("style","text-decoration:none"),f.attr("alt",r.ImageMapAreas.ImageMapArea[u].Tooltip),r.Actions&&this._writeAction(n,r.Actions[0],f),o="";switch(r.ImageMapAreas.ImageMapArea[u].ShapeType){case 0:c="rect",o=parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[0]*t/100,10)+","+parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[1]*i/100,10)+","+parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[2]*t/100,10)+","+parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[3]*i/100,10);break;case 1:for(c="poly",a=r.ImageMapAreas.ImageMapArea[u].CoorCount,e=0;e<a;e++)o+=e%2==0?parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[e]*t/100,10):parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[e]*i/100,10),e<a-1&&(o+=",");break;case 2:c="circ",o=parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[0]*t/100,10)+","+parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[1]*i/100,10)+","+parseInt(r.ImageMapAreas.ImageMapArea[u].Coordinates[2]*t/100,10)}f.attr("shape",c),f.attr("coords",o),s.append(f)}n.$HTMLParent.append(s)}},_resizeImage:function(n,t,i,r,u,f){var e=0,o=this,s;if(i=o._convertToMM(i+"px"),r=o._convertToMM(r+"px"),i!==0&&r!==0)switch(t){case 0:$(n).css("height",i+"mm"),$(n).css("width",r+"mm");break;case 1:$(n).css("height",u+"mm"),$(n).css("width",f+"mm");break;case 2:(i/u>1||r/f>1)&&(i/u>=r/f?(e=u/i,$(n).css("height",u+"mm"),$(n).css("width",r*e+"mm"),$(n).css("max-height",u+"mm"),$(n).css("max-width",r*e+"mm"),$(n).css("min-height",u+"mm"),$(n).css("min-width",r*e+"mm")):(e=f/r,$(n).css("width",f+"mm"),$(n).css("height",i*e+"mm"),$(n).css("max-width",f+"mm"),$(n).css("max-height",i*e+"mm"),$(n).css("min-width",f+"mm"),$(n).css("min-height",i*e+"mm")));break;case 3:s=o._getNatural(n),$(n).css("height",o._convertToMM(s.height+"px")+"mm"),$(n).css("width",o._convertToMM(s.width+"px")+"mm"),$(n).css("max-height",o._convertToMM(s.height+"px")+"mm"),$(n).css("max-width",o._convertToMM(s.width+"px")+"mm")}},_writeBookMark:function(n){var t=$("<a/>");n.CurrObj.Elements.SharedElements.Bookmark?(t.attr("name",n.CurrObj.Elements.SharedElements.Bookmark),t.attr("id",n.CurrObj.Elements.SharedElements.Bookmark)):n.CurrObj.Elements.NonSharedElements.Bookmark&&(t.attr("name",n.CurrObj.Elements.NonSharedElements.Bookmark),t.attr("id",n.CurrObj.Elements.NonSharedElements.Bookmark)),t.attr("id")&&n.$HTMLParent.append(t)},_writeTablixCell:function(t,i,u,f){var o=new $("<TD/>"),e="",s,h,c=this,l,a;return e="vertical-align:top;padding:0;margin:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-ms-box-sizing: border-box;",e+=c._getFullBorderStyle(i.Cell.ReportItem),l=i.ColumnIndex,a=c.isNull(f)?i.RowIndex:f,s=t.CurrObj.ColumnWidths.Columns[l].Width,h=t.CurrObj.RowHeights.Rows[a].Height,e+="overflow:hidden;width:"+s+"mm;max-width:"+s+"mm;height:"+h+"mm;",i.RowSpan!==undefined&&o.attr("rowspan",i.RowSpan),i.ColSpan!==undefined&&o.attr("colspan",i.ColSpan),i.Cell.ReportItem.Elements.SharedElements.Style&&i.Cell.ReportItem.Elements.SharedElements.Style.BackgroundColor?e+="background-color:"+i.Cell.ReportItem.Elements.SharedElements.Style.BackgroundColor+";":i.Cell.ReportItem.Elements.NonSharedElements.Style&&i.Cell.ReportItem.Elements.NonSharedElements.Style.BackgroundColor&&(e+="background-color:"+i.Cell.ReportItem.Elements.NonSharedElements.Style.BackgroundColor+";"),o.attr("Style",e),o.append(c._writeReportItems(new n(t.RS,i.Cell.ReportItem,u,t.CurrObj,new $("<Div/>"),"margin:0;overflow:hidden;width:100%;height:100%;",new r(h,s)))),o},_writeTablix:function(n){var i=this,r=i._getDefaultHTMLTable(),h="border-collapse:collapse;padding:0;margin:0;",t,l=0,e=new $("<TABLE/>").css({display:"table",position:"absolute",top:"0px",left:"0px",padding:"0",margin:"0","border-collapse":"collapse"}),u=new $("<TABLE/>").css({display:"table",position:"absolute",top:"0px",left:"0px",padding:"0",margin:"0","border-collapse":"collapse"}),o,c,s;u.attr("CELLSPACING",0),u.attr("CELLPADDING",0);var a="",v=!1,y=!1;for(h+=i._getMeasurements(i._getMeasurmentsObj(n.CurrObjParent,n.CurrObjIndex)),h+=i._getElementsStyle(n.RS,n.CurrObj.Elements),h+=i._getFullBorderStyle(n.CurrObj),r.attr("Style",h),o=$("<colgroup/>"),c=0;c<n.CurrObj.ColumnWidths.ColumnCount;c++)o.append($("<col/>").css("width",n.CurrObj.ColumnWidths.Columns[c].Width+"mm"));return r.append(o),forerunner.device.isFirefox()||(e.append(o.clone(!0,!0)),u.append(o.clone(!0,!0))),t=new $("<TR/>"),$.each(n.CurrObj.TablixRows,function(f,o){if(o.RowIndex!==l){r.append(t),n.CurrObj.RowHeights.Rows[o.RowIndex-1].FixRows===1&&e.append(t.clone(!0,!0)),t=new $("<TR/>");for(var s=l+1;s<o.RowIndex;s++)r.append(t),t=new $("<TR/>");l=o.RowIndex}o.UniqueName&&i._writeUniqueName(t,o.UniqueName),o.Type!=="Corner"&&a==="Corner"&&u.append(t.clone(!0,!0)),o.Type!=="RowHeader"&&a==="RowHeader"&&u.append(t.clone(!0,!0)),n.CurrObj.RowHeights.Rows[o.RowIndex].FixRows===1&&(v=!0),o.Type!=="BodyRow"&&n.CurrObj.ColumnWidths.Columns[o.ColumnIndex].FixColumn===1&&(y=!0),o.Type==="BodyRow"?$.each(o.Cells,function(r,u){t.append(i._writeTablixCell(n,u,r,o.RowIndex))}):o.Cell&&t.append(i._writeTablixCell(n,o,f)),a=o.Type}),r.append(t),v?e.hide():e=null,y?u.hide():u=null,s=$("<div style='position:relative'><\/div"),r.append(e),r.append(u),n.CurrObj.Elements.NonSharedElements.UniqueName&&i._writeUniqueName(r,n.CurrObj.Elements.NonSharedElements.UniqueName),n.$HTMLParent=s,i._writeBookMark(n),s.append(r),n.RS.floatingHeaders.push(new f(s,e,u)),s},_writeSubreport:function(n){var t=this;return n.Style+=t._getElementsStyle(n.RS,n.CurrObj.SubReportProperties),n.CurrObj=n.CurrObj.BodyElements,t._writeBookMark(n),t._writeRectangle(n)},_writeLine:function(n){var u=this,t=u._getMeasurmentsObj(n.CurrObjParent,n.CurrObjIndex),e="position:relative;width:"+t.Width+"mm;height:"+t.Height+"mm;",i;if(t.Width===0||t.Height===0)e+=u._getFullBorderStyle(n.CurrObj);else{var o=$("<Div/>"),f=Math.sqrt(Math.pow(t.Height,2)+Math.pow(t.Width,2)),r=Math.atan(t.Height/t.Width),s=f/2*Math.sin(r),h=f/2-Math.sqrt(Math.pow(f/2,2)+Math.pow(s,2));n.CurrObj.Elements.SharedElements.Slant===undefined||n.CurrObj.Elements.SharedElements.Slant===0||(r=r-2*r),i="position:absolute;top:"+s+"mm;left:"+h+"mm;",i+=u._getFullBorderStyle(n.CurrObj),i+="width:"+f+"mm;height:0;",i+="-moz-transform: rotate("+r+"rad);",i+="-webkit-transform: rotate("+r+"rad);",i+="-ms-transform: rotate("+r+"rad);",i+="transform: rotate("+r+"rad);",o.attr("Style",i),n.$HTMLParent.append(o)}return u._writeBookMark(n),n.$HTMLParent.attr("Style",e+n.Style),n.$HTMLParent},_getHeight:function(n){var r=this,i,t=n.clone().css({visibility:"hidden"});return t.find("img").remove(),$("body").append(t),i=t.height()+"px",t.remove(),r._convertToMM(i)},_getElementsStyle:function(n,t){var i="",r=this;return i+r._getStyle(n,t.SharedElements.Style,t.NonSharedElements),i+r._getStyle(n,t.NonSharedElements.Style,t.NonSharedElements)},_getElementsTextStyle:function(n){var t="",i=this;return t+i._getTextStyle(n.SharedElements.Style,n.NonSharedElements),t+i._getTextStyle(n.NonSharedElements.Style,n.NonSharedElements)},_getElementsNonTextStyle:function(n,t){var i="",r=this;return i+r._getNonTextStyle(n,t.SharedElements.Style,t.NonSharedElements),i+r._getNonTextStyle(n,t.NonSharedElements.Style,t.NonSharedElements)},_getBorderSize:function(n,t){var o=this,i,f,r,e,u;return(i=n.Elements.SharedElements.Style,i?(f=i.BorderStyle,r=i["BorderStyle"+t],e=i.BorderWidth,u=i["BorderWidth"+t]):(i=n.Elements.NonSharedElements.Style,i&&(f=i.BorderStyle,r=i["BorderStyle"+t],e=i.BorderWidth,u=i["BorderWidth"+t])),!r&&f===0)?0:r===0?0:u?o._convertToMM(u):o._convertToMM(e)},_getPaddingSize:function(n,t){var u=this,i,r;return i=n.Elements.SharedElements.Style,i?r=i["Padding"+t]:(i=n.Elements.NonSharedElements.Style,i&&(r=i["Padding"+t])),u._convertToMM(r)},_getFullBorderStyle:function(n){var i=this,r="",t;return n.Elements?(t=n.Elements.SharedElements.Style,t!==undefined&&(t.BorderStyle!==undefined&&t.BorderStyle!==0&&(r+="border:"+t.BorderWidth+" "+i._getBorderStyle(t.BorderStyle)+" "+t.BorderColor+";"),(t.BorderStyleLeft!==undefined||t.BorderWidthLeft!==undefined||t.BorderColorLeft!==undefined)&&(r+="border-left:"+(t.BorderWidthLeft===undefined?t.BorderWidth:t.BorderWidthLeft)+" "+(t.BorderStyleLeft===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleLeft))+" "+(t.BorderColorLeft===undefined?t.BorderColor:t.BorderColorLeft)+";"),(t.BorderStyleRight!==undefined||t.BorderWidthRight!==undefined||t.BorderColorRight!==undefined)&&(r+="border-right:"+(t.BorderWidthRight===undefined?t.BorderWidth:t.BorderWidthRight)+" "+(t.BorderStyleRight===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleRight))+" "+(t.BorderColorRight===undefined?t.BorderColr:t.BorderColorRight)+";"),(t.BorderStyleTop!==undefined||t.BorderWidthTop!==undefined||t.BorderColorTop!==undefined)&&(r+="border-top:"+(t.BorderWidthTop===undefined?t.BorderWidth:t.BorderWidthTop)+" "+(t.BorderStyleTop===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleTop))+" "+(t.BorderColorTop===undefined?t.BorderColor:t.BorderColorTop)+";"),(t.BorderStyleBottom!==undefined||t.BorderWidthBottom!==undefined||t.BorderColorBottom!==undefined)&&(r+="border-bottom:"+(t.BorderWidthBottom===undefined?t.BorderWidth:t.BorderWidthBottom)+" "+(t.BorderStyleBottom===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleBottom))+" "+(t.BorderColorBottom===undefined?t.BorderColor:t.BorderColorBottom)+";")),t=n.Elements.NonSharedElements.Style,t!==undefined&&(t.BorderStyle!==undefined&&t.BorderStyle!==0&&(r+="border:"+t.BorderWidth+" "+i._getBorderStyle(t.BorderStyle)+" "+t.BorderColor+";"),(t.BorderStyleLeft!==undefined||t.BorderWidthLeft!==undefined||t.BorderColorLeft!==undefined)&&(r+="border-left:"+(t.BorderWidthLeft===undefined?t.BorderWidth:t.BorderWidthLeft)+" "+(t.BorderStyleLeft===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleLeft))+" "+(t.BorderColorLeft===undefined?t.BorderColor:t.BorderColorLeft)+";"),(t.BorderStyleRight!==undefined||t.BorderWidthRight!==undefined||t.BorderColorRight!==undefined)&&(r+="border-right:"+(t.BorderWidthRight===undefined?t.BorderWidth:t.BorderWidthRight)+" "+(t.BorderStyleRight===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleRight))+" "+(t.BorderColorRight===undefined?t.BorderColr:t.BorderColorRight)+";"),(t.BorderStyleTop!==undefined||t.BorderWidthTop!==undefined||t.BorderColorTop!==undefined)&&(r+="border-top:"+(t.BorderWidthTop===undefined?t.BorderWidth:t.BorderWidthTop)+" "+(t.BorderStyleTop===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleTop))+" "+(t.BorderColorTop===undefined?t.BorderColor:t.BorderColorTop)+";"),(t.BorderStyleBottom!==undefined||t.BorderWidthBottom!==undefined||t.BorderColorBottom!==undefined)&&(r+="border-bottom:"+(t.BorderWidthBottom===undefined?t.BorderWidth:t.BorderWidthBottom)+" "+(t.BorderStyleBottom===undefined?i._getBorderStyle(t.BorderStyle):i._getBorderStyle(t.BorderStyleBottom))+" "+(t.BorderColorBottom===undefined?t.BorderColor:t.BorderColorBottom)+";")),r):""},_getMeasurementsInvert:function(n){var i=this,t="";return n?(n.Width!==undefined&&(t+="height:"+n.Width+"mm;",t+="min-height:"+n.Width+"mm;",t+="max-height:"+n.Width+"mm;"),n.Height!==undefined&&(t+="width:"+n.Height+"mm;",t+="min-width:"+n.Height+"mm;",t+="max-width:"+n.Height+"mm;"),t):""},_getMeasurements:function(n,t){var r=this,i="";return n?(n.Width!==undefined&&(i+="width:"+n.Width+"mm;",i+="min-width:"+n.Width+"mm;",i+="max-width:"+n.Width+"mm;"),t&&n.Height!==undefined&&(i+="height:"+n.Height+"mm;",i+="min-height:"+n.Height+"mm;",i+="max-height:"+n.Height+"mm;"),i):""},_getStyle:function(n,t,i){var u=this,r="";return t?(r+=u._getNonTextStyle(n,t,i),r+u._getTextStyle(t,i)):r},_backgroundRepeatTypesMap:function(){return{0:"repeat",1:"no-repeat",2:"repeat-x",3:"repeat-y"}},_getImageStyleURL:function(n,t){var i=this;return"url("+i._getImageURL(n,t)+")"},_getNonTextStyle:function(n,t){var r=this,i="";return t?(t.BackgroundColor&&(i+="background-color:"+t.BackgroundColor+";"),t.BackgroundImage&&(i+="background-image:"+r._getImageStyleURL(n,t.BackgroundImage.ImageName)+";"),t.BackgroundRepeat!==undefined&&r._backgroundRepeatTypesMap()[t.BackgroundRepeat]&&(i+="background-repeat:"+r._backgroundRepeatTypesMap()[t.BackgroundRepeat]+";"),i):i},_getTextDirection:function(n){var t="";return n.SharedElements.Style&&n.SharedElements.Style.WritingMode!==undefined&&(n.SharedElements.Style.WritingMode===1&&(t="fr-rotate-90"),n.SharedElements.Style.WritingMode===2&&(t="fr-rotate-270")),n.NonSharedElements.Style&&n.NonSharedElements.Style.WritingMode!==undefined&&(n.NonSharedElements.Style.WritingMode===1&&(t="fr-rotate-90"),n.NonSharedElements.Style.WritingMode===2&&(t="fr-rotate-270")),t},_getTextStyle:function(n,t){var r=this,i="";return n?(n.PaddingBottom!==undefined&&(i+="padding-bottom:"+n.PaddingBottom+";"),n.PaddingLeft!==undefined&&(i+="padding-left:"+n.PaddingLeft+";"),n.PaddingRight!==undefined&&(i+="padding-right:"+n.PaddingRight+";"),n.PaddingTop!==undefined&&(i+="padding-top:"+n.PaddingTop+";"),n.UnicodeBiDi!==undefined&&(i+="unicode-bidi:"+r._getBiDi(n.UnicodeBiDi)+";"),n.VerticalAlign!==undefined&&(i+="vertical-align:"+r._getVAligh(n.VerticalAlign)+";"),n.Direction!==undefined&&(i+="Direction:"+r._getDirection(n.Direction)+";"),n.TextAlign!==undefined&&(i+="text-align:"+r._getTextAlign(n.TextAlign,t)+";"),n.FontStyle!==undefined&&(i+="font-style:"+r._getFontStyle(n.FontStyle)+";"),n.FontWeight!==undefined&&(i+="font-weight:"+r._getFontWeight(n.FontWeight)+";"),n.FontFamily!==undefined&&(i+="font-family:"+n.FontFamily+";"),n.FontSize!==undefined&&(i+="font-size:"+n.FontSize+";"),n.TextDecoration!==undefined&&(i+="text-decoration:"+r._getTextDecoration(n.TextDecoration)+";"),n.Color!==undefined&&(i+="color:"+n.Color+";"),i):i},_getCalendar:function(n){switch(n){case 0:return"Gregorian";case 1:return"GregorianArabic";case 2:return"GregorianMiddleEastFrench";case 3:return"GregorianTransliteratedEnglish";case 4:return"GregorianTransliteratedFrench";case 5:return"GregorianUSEnglish";case 6:return"Hebrew";case 7:return"Hijri";case 9:return"Korean";case 10:return"Julian";case 11:return"Taiwan";case 12:return"ThaiBuddist"}return"Gregorian"},_getTextDecoration:function(n){switch(n){case 0:return"None";case 1:return"Underline";case 2:return"Overline";case 3:return"LineThrough"}return"None"},_getFontWeight:function(n){switch(n){case 0:return"Normal";case 1:return"Thin";case 2:return"ExtraLight";case 3:return"Light";case 4:return"Medium";case 5:return"SemiBold";case 6:return"Bold";case 7:return"ExtraBold";case 8:return"Heavy"}return"General"},_getFontStyle:function(n){switch(n){case 0:return"Normal";case 1:return"Italic"}return"Normal"},_getTextAlign:function(n,t){switch(n){case 0:if(t.TypeCode===undefined)return"Left";switch(t.TypeCode){case 3:case 6:case 7:case 9:case 11:case 12:case 13:case 14:case 15:case 16:return"Right";case 4:case 17:case 18:return"Left";default:return"Left"}break;case 1:return"Left";case 2:return"Center";case 3:return"Right"}},_getDirection:function(n){switch(n){case 0:return"LTR";case 1:return"RTL"}return"LTR"},_getLayoutFlow:function(n){switch(n){case 0:return"Horizontal";case 1:return"Vertical";case 2:return"Rotate270"}return"Horizontal"},_getVAligh:function(n){switch(n){case 0:return"Top";case 1:return"Middle";case 2:return"Bottom"}return"Top"},_getBiDi:function(n){switch(n){case 0:return"normal";case 1:return"embed";case 2:return"BiDiOverride"}return"normal"},_getDefaultHTMLTable:function(){var n=$("<Table/>");return n.attr("CELLSPACING",0),n.attr("CELLPADDING",0),n},_getBorderStyle:function(n){switch(n){case 0:return"None";case 1:return"Dotted";case 2:return"Dashed";case 3:return"Solid";case 4:return"Double"}return"None"},_getMeasurmentsObj:function(n,t){var i=null;return n.Measurement&&(i=n.Measurement.Measurements[t]),i},_convertToMM:function(n){if(!n)return 0;var i=n.match(/\D+$/),t=n.match(/\d+/);i.length===1&&(i=i[0]),t.length===1&&(t=t[0]);switch(i){case"px":return t/3.78;case"pt":return t*.352777777778;case"in":return t*25.4;case"mm":return t;case"cm":return t*10;case"em":return t*4.2175176}return t},_getListStyle:function(n,t){var i;if(n===1)switch(t%3){case 1:i="decimal";break;case 2:i="lower-roman";break;case 0:i="lower-latin"}else if(n===2)switch(t%3){case 0:i="square";break;case 1:i="disc";break;case 2:i="circle"}return"fr-render-list-"+i},_stopDefaultEvent:function(n){window.ActiveXObject?window.event.returnValue=!1:(n.preventDefault(),n.stopPropagation())},_getNatural:function(n){if(n.naturalWidth!==undefined&&n.naturalHeight!==undefined)return{width:n.naturalWidth,height:n.naturalHeight};var t=new Image;return t.src=n.src,{width:t.width,height:t.height}},isNull:function(n){return n===null||n===undefined?!0:!1}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets,t=forerunner.ssr.constants.events,i="fr-param-container";$.widget(n.getFullname(n.reportParameter),{options:{$reportViewer:null,pageNum:null},_formInit:!1,_paramCount:0,_defaultValueExist:!1,_loadedForDefault:!0,_savedParamExist:!1,_savedParamList:null,_savedParamCount:0,_init:function(){var n=this;n.element.html(null)},_destroy:function(){},_render:function(){var n=this,t;n.element.html(null),t=new $("<div class="+i+"><form name='ParameterForm' onsubmit='return false'><div class='fr-param-element-border'><input type='text' style='display:none'><\/div><div class='fr-param-submit-container'><input name='Parameter_ViewReport' type='button' class='fr-param-viewreport' value='"+n.options.$reportViewer.locData.paramPane.viewReport+"'/><\/div><\/form><\/div>"),n.element.css("display","block"),n.element.html(t),n._formInit=!0},writeParameterPanel:function(n,r,u){var f=this,e,o;f.options.pageNum=u,f._paramCount=parseInt(n.Count,10),f._defaultValueExist=n.DefaultValueExist&&!f._savedParamExist,f._loadedForDefault=!0&&!f._savedParamExist,f._render(),e=$(".fr-param-element-border"),$.each(n.ParametersList,function(n,t){e.append(f._writeParamControl(t,new $("<div />")))}),f._resetLabelWidth(),f.resetValidateMessage(),$("[name='ParameterForm']").validate({errorPlacement:function(n,t){$(t).is(":radio")?n.appendTo(t.parent("div").next("span")):$(t).attr("IsMultiple")==="True"?n.appendTo(t.parent("div").next("span")):n.appendTo(t.nextAll(".fr-param-error-placeholder"))},highlight:function(n){$(n).is(":radio")?$(n).parent("div").addClass("fr-param-error"):$(n).addClass("fr-param-error")},unhighlight:function(n){$(n).is(":radio")?$(n).parent("div").removeClass("fr-param-error"):$(n).removeClass("fr-param-error")}});$(".fr-param-viewreport").on("click",function(){f._submitForm()});f._paramCount===n.DefaultValueCount&&f._loadedForDefault?f._submitForm():f._paramCount===f._savedParamCount?f._submitForm():(f._trigger(t.render),f.options.$reportViewer.removeLoadingIndicator()),o=f.element.find("."+i),o.removeAttr("style"),f._savedParamExist=!1,f._savedParamCount=0,f._setDatePicker();$(document).on("click",function(n){f._checkExternalClick(n)})},_submitForm:function(){var n=this,i;n._closeAllDropdown(),i=n.getParamsList(),i&&(n.options.$reportViewer.loadReportWithNewParameters(i),n._trigger(t.submit))},overrideDefaultParams:function(n){var t=this;t._savedParamList={},t._savedParamCount=0,t._savedParamExist=!0,$.each(n.ParamsList,function(n,i){t._savedParamList[i.Parameter]=i.Value,t._savedParamCount++})},_setDatePicker:function(){var n=this;$.each(n.element.find(".hasDatepicker"),function(n,t){$(t).datepicker("option","buttonImage",forerunner.config.forerunnerFolder()+"/reportviewer/Images/calendar.gif"),$(t).datepicker("option","buttonImageOnly",!0)})},_getPredefinedValue:function(n){var t=this;return t._savedParamExist?t._savedParamList[n.Name]:t._hasDefaultValue(n)?n.MultiValue==="False"?n.DefaultValues[0]:n.DefaultValues:null},_writeParamControl:function(n,t){var i=this,e=new $("<div class='fr-param-label'>"+n.Name+"<\/div>"),u=!0,f=new $("<div class='fr-param-item-container'><\/div>"),o=new $("<span class='fr-param-error-placeholder'/>"),r=null;if(n.MultiValue==="True"?n.ValidValues!==""?r=i._writeDropDownWithCheckBox(n):n.DefaultValues!==""&&(u=!1,r=i._writeDropDownWithTextArea(n)):r=n.ValidValues!==""?i._writeDropDownControl(n):n.Type==="Boolean"?i._writeRadioButton(n):i._writeTextArea(n),r!==undefined&&u)r.on("keydown",function(n){n.keyCode===13&&i._submitForm()});return f.append(r).append(i._addNullableCheckBox(n,r)).append(o),t.append(e).append(f),t},_getParameterControlProperty:function(n,t){var i=this;t.attr("AllowBlank",n.AllowBlank),n.Nullable!=="True"&&t.attr("required","true").watermark(i.options.$reportViewer.locData.paramPane.required),t.attr("ErrorMessage",n.ErrorMessage)},_addNullableCheckBox:function(n,t){var f=this,r,i,u;if(n.Nullable==="True"){r=new $("<Span />"),i=new $("<Input type='checkbox' class='fr-param-checkbox' name='"+n.Name+"' />");i.on("click",function(){i.attr("checked")==="checked"?(i.removeAttr("checked"),n.Type==="Boolean"?$(".fr-param-radio."+n.Name).removeAttr("disabled"):t.removeAttr("disabled").removeClass("fr-param-disable").addClass("fr-param-enable")):(i.attr("checked","true"),n.Type==="Boolean"?$(".fr-param-radio."+n.Name).attr("disabled","true"):t.attr("disabled","true").removeClass("fr-param-enable").addClass("fr-param-disable"))});return u=new $("<Label class='fr-param-label-null' />"),u.html(f.options.$reportViewer.locData.paramPane.nullField),r.append(i).append(u),r}return null},_writeRadioButton:function(n){var u=this,e=u._getPredefinedValue(n),o=u.options.$reportViewer.locData.paramPane,t=[],f,i,r,s;for(t[0]={display:o.isTrue,value:"True"},t[1]={display:o.isFalse,value:"False"},f=new $("<div class='fr-param-checkbox-container' ismultiple='"+n.MultiValue+"' datatype='"+n.Type+"' ><\/div>"),i=0;i<t.length;i++){if(r=new $("<input type='radio' class='fr-param fr-param-radio "+n.Name+"' name='"+n.Name+"' value='"+t[i].value+"' id='"+n.Name+"_radio_"+t[i].value+"' datatype='"+n.Type+"' />"),u._getParameterControlProperty(n,r),e&&(n.Nullable==="True"?r.attr("disabled","true"):e===t[i].value&&r.attr("checked","true")),u._paramCount===1)r.on("click",function(){u._submitForm()});s=new $("<label class='fr-param-radio-label' for='"+n.Name+"_radio_"+t[i].value+"'>"+t[i].display+"<\/label>"),f.append(r),f.append(s)}return f},_writeTextArea:function(n){var r=this,i=r._getPredefinedValue(n),t=new $("<input class='fr-param' type='text' size='100' ismultiple='"+n.MultiValue+"' datatype='"+n.Type+"'  name='"+n.Name+"'/>");r._getParameterControlProperty(n,t);switch(n.Type){case"DateTime":t.datepicker({showOn:"button",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,showButtonPanel:!0,gotoCurrent:!0,closeText:"Close",onClose:function(){t.removeAttr("disabled"),$("[name='"+n.Name+"']").valid(),r._paramCount===1&&r._submitForm()},beforeShow:function(){t.attr("disabled",!0)}}),t.attr("dateISO","true"),i&&t.datepicker("setDate",r._getDateTimeFromDefault(i));break;case"Integer":case"Float":t.attr("number","true"),i&&t.val(i);break;case"String":i&&t.val(i)}return t},_writeDropDownControl:function(n){var t=this,e=!1,o=t._getPredefinedValue(n),i=$("<select class='fr-param fr-param-select' ismultiple='"+n.MultiValue+"' name='"+n.Name+"' datatype='"+n.Type+"' readonly='true'>"),s,r,u,f;for(t._getParameterControlProperty(n,i),s=new $("<option value=''>&#60Select a Value&#62<\/option>"),i.append(s),r=0;r<n.ValidValues.length;r++)u=n.ValidValues[r].Value,f=new $("<option value='"+u+"'>"+n.ValidValues[r].Key+"<\/option>"),o&&o===u&&(f.attr("selected","true"),e=!0),i.append(f);if(e||(t._loadedForDefault=!1),t._paramCount===1)i.on("change",function(){t._submitForm()});return i},_writeDropDownWithCheckBox:function(n){var i=this,s=i._getPredefinedValue(n),w=new $("<div style='display:inline-block;'/>"),u=new $("<Input type='text' class='fr-param-client fr-param-dropdown-textbox' id='"+n.Name+"_fore' name='"+n.Name+"' readonly='true' ismultiple='"+n.MultiValue+"' datatype='"+n.Type+"'/>"),h,c,l,a,f,e,r,o,t,v,y;i._getParameterControlProperty(n,u);u.on("click",function(){i._popupDropDownPanel(n)});h=new $("<Input id='"+n.Name+"_hidden' class='fr-param' type='hidden' name='"+n.Name+"' ismultiple='"+n.MultiValue+"' datatype='"+n.Type+"'/>"),c=new $("<Img class='fr-param-dropdown-img' alt='Open DropDown List' src='"+forerunner.config.forerunnerFolder()+"/ReportViewer/images/OpenDropDown.png' name='"+n.Name+"OpenDropDown' />");c.on("click",function(){i._popupDropDownPanel(n)});for(l=new $("<div class='fr-param-dropdown' name='"+n.Name+"_DropDownContainer' value='"+n.Name+"' />"),a=i._getDefaultHTMLTable(),n.ValidValues.push({Key:"Select All",Value:"Select All"}),f="",e="",r=0;r<n.ValidValues.length;r++){r===0?(v=n.ValidValues[n.ValidValues.length-1],o=v.Key,t=v.Value):(o=n.ValidValues[r-1].Key,t=n.ValidValues[r-1].Value);var b=new $("<TR />"),k=new $("<TD/>"),d=new $("<Span />"),p=new $("<input type='checkbox' class='fr-param-dropdown-checkbox "+n.Name+"_DropDown_CB' id='"+n.Name+"_DropDown_"+t+"' value='"+t+"' />");s&&i._contains(s,t)&&(p.attr("checked","true"),f+=o+",",e+=t+",");p.on("click",function(){this.value==="Select All"&&(this.checked===!0&&$("."+n.Name+"_DropDown_CB").each(function(){this.checked=!0}),this.value==="Select All"&&this.checked===!1&&$("."+n.Name+"_DropDown_CB").each(function(){this.checked=!1}))});y=new $("<label for='"+n.Name+"_DropDown_"+t+"' class='fr-param-dropdown-label "+n.Name+"_DropDown_lable' name='"+n.Name+"_DropDown_"+t+"_lable'/>"),y.html(o),d.append(p).append(y),k.append(d),b.append(k),a.append(b)}return l.append(a),s&&(u.val(f.substr(0,f.length-1)),h.val(e.substr(0,e.length-1))),w.append(u).append(h).append(c).append(l),w},_writeDropDownWithTextArea:function(n){var t=this,r=t._getPredefinedValue(n),u,i,f,e,o;t._getTextAreaValue(r),u=new $("<div style='display:inline-block;'/>"),i=new $("<Input type='text' class='fr-param fr-param-dropdown-textbox' id='"+n.Name+"' name='"+n.Name+"' readonly='true' ismultiple='"+n.MultiValue+"' datatype='"+n.Type+"' />"),t._getParameterControlProperty(n,i);i.on("click",function(){t._popupDropDownPanel(n)});f=new $("<Img class='fr-param-dropdown-img' alt='Open DropDown List' src='"+forerunner.config.forerunnerFolder()+"/ReportViewer/images/OpenDropDown.png' name='"+n.Name+"OpenDropDown' />");f.on("click",function(){t._popupDropDownPanel(n)});return e=new $("<div class='fr-param-dropdown' name='"+n.Name+"_DropDownContainer' value='"+n.Name+"' />"),o=new $("<textarea name='"+n.Name+"_DropDownTextArea' class='fr-param-dropdown-textarea' />"),o.val(t._getTextAreaValue(r,!0)),i.val(t._getTextAreaValue(r,!1)),e.append(o),u.append(i).append(f).append(e),u},_getTextAreaValue:function(n,t){var i="",r,u;if(t)for(r=0;r<n.length;r++)i+=n[r]+"\n";else{for(u=0;u<n.length;u++)i+=n[u]+",";i=i.substr(0,i.length-1)}return i},_setMultipleInputValues:function(n){var u=$("[name='"+n.Name+"']"),i,r,f,t;u.hasClass("fr-param-client")?(i="",r="",$("."+n.Name+"_DropDown_CB").each(function(){this.checked&&this.value!=="Select All"&&(i+=$("[name='"+n.Name+"_DropDown_"+this.value+"_lable']").html()+",",r+=this.value+",")}),$("#"+n.Name+"_fore").val(i.substr(0,i.length-1)),$("#"+n.Name+"_hidden").val(r.substr(0,r.length-1))):(f=u.val(),t=$("[name='"+n.Name+"_DropDownTextArea']").val(),t=t.replace(/\n+/g,","),t.charAt(t.length-1)===","&&(t=t.substr(0,t.length-1)),u.val(t))},_popupDropDownPanel:function(n){var u=this;u._closeAllDropdown();var f=$(".fr-layout-rightpanecontent"),e=f.scrollTop(),t=$("[name='"+n.Name+"_DropDownContainer']"),i=$("[name='"+n.Name+"']"),r=i.offset().top;f.height()-r-i.height()<t.height()?t.css("top",r-t.height()-48+e):t.css("top",r+i.height()-28+e),t.is(":hidden")?t.width(i.width()).addClass("fr-param-dropdown-show").show(10):u._closeDropDownPanel(n)},_closeDropDownPanel:function(n){var t=this;$("[name='"+n.Name+"_DropDownContainer']").is(":visible")&&$("[name='"+n.Name+"_DropDownContainer']").removeClass("fr-param-dropdown-show").hide(10,function(){t._setMultipleInputValues(n)})},_closeAllDropdown:function(){var n=this;$(".fr-param-dropdown").each(function(t,i){n._closeDropDownPanel({Name:$(i).attr("value")})})},_checkExternalClick:function(n){var i=this,t=$(n.target);t.hasClass("fr-param-dropdown-img")||t.hasClass("fr-param-dropdown-textbox")||t.hasClass("fr-param-dropdown")||t.hasClass("fr-param-dropdown-label")||t.hasClass("fr-param-dropdown-checkbox")||t.hasClass("fr-param-dropdown-textarea")||i._closeAllDropdown()},getParamsList:function(){var r=this,n,t,i,o,u,s,f;if($("[name='ParameterForm']").length!==0&&$("[name='ParameterForm']").valid()===!0){t=[],$(".fr-param").filter(":text").each(function(){t.push({name:this.name,ismultiple:$(this).attr("ismultiple"),type:$(this).attr("datatype"),value:r._isParamNullable(this)})}),$(".fr-param").filter("[type='hidden']").each(function(){t.push({name:this.name,ismultiple:$(this).attr("ismultiple"),type:$(this).attr("datatype"),value:r._isParamNullable(this)})}),$(".fr-param").filter("select").each(function(){t.push({name:this.name,ismultiple:$(this).attr("ismultiple"),type:$(this).attr("datatype"),value:r._isParamNullable(this)})}),i={},$(".fr-param").filter(":radio").each(function(){this.name in i||(i[this.name]=null),this.checked===!0&&(i[this.name]=r._isParamNullable(this))});for(o in i)t.push({name:o,ismultiple:"",type:"Boolean",value:i[o]});u="",$(".fr-param").filter(":checkbox").filter(":checked").each(function(){u.indexOf(this.name)===-1&&(u+=this.name+",")});var e=u.split(","),h="",c="";for(n=0;n<e.length-1;n++)h=e[n],s=$("input[name='"+e[n]+"']:checked").length,$("input[name='"+e[n]+"']:checked").each(function(n){c+=n===s-1?this.value:this.value+","}),t.push({name:h,ismultiple:$(this).attr("ismultiple"),type:$(this).attr("datatype"),value:c});for(f="[",n=0;n<t.length;n++)f+=n!==t.length-1?'{"Parameter":"'+t[n].name+'","IsMultiple":"'+t[n].ismultiple+'","Type":"'+t[n].type+'","Value":"'+t[n].value+'"},':'{"Parameter":"'+t[n].name+'","IsMultiple":"'+t[n].ismultiple+'","Type":"'+t[n].type+'","Value":"'+t[n].value+'"}';return f+"]",'{"ParamsList":'+f+"}"}return null},_isParamNullable:function(n){var t=$(".fr-param-checkbox").filter("[name='"+n.name+"']").first();return t.attr("checked")==="checked"||n.value===""?null:n.value},_resetLabelWidth:function(){var n=0;$(".fr-param-label").each(function(t,i){$(i).width()>n&&(n=$(i).width())}),$(".fr-param-label").each(function(t,i){$(i).width(n)})},resetValidateMessage:function(){var t=this,n=t.options.$reportViewer.locData.validateError;jQuery.extend(jQuery.validator.messages,{required:n.required,remote:n.remote,email:n.email,url:n.url,date:n.date,dateISO:n.dateISO,number:n.number,digits:n.digits,maxlength:$.validator.format(n.maxlength),minlength:$.validator.format(n.minlength),rangelength:$.validator.format(n.rangelength),range:$.validator.format(n.range),max:$.validator.format(n.max),min:$.validator.format(n.min)})},removeParameter:function(){var n=this;n._formInit=!1,$(".fr-param-container",this.element).detach()},_getDefaultHTMLTable:function(){return $("<Table cellspacing='0' cellpadding='0'/>")},_contains:function(n,t){for(var i=n.length;i--;)if(n[i]===t)return!0;return!1},_hasDefaultValue:function(n){var t=this;return t._defaultValueExist&&$.isArray(n.DefaultValues)&&n.DefaultValues[0]},_getDateTimeFromDefault:function(n){if(!n||n.length<9)return null;if(/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01])$/.test(n))return n;var t=n.substr(0,n.indexOf(" "));return t.substring(t.lastIndexOf("/")+1,n.indexOf(" "))+"-"+t.substring(0,t.indexOf("/"))+"-"+t.substring(t.indexOf("/")+1,t.lastIndexOf("/"))}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets;$.widget(n.getFullname(n.reportDocumentMap),{options:{$reportViewer:null},_create:function(){},_init:function(){},write:function(n){var i=this,t;this.element.html(""),t=new $("<DIV />"),t.addClass("fr-docmap-panel").addClass("fr-docmap-panel-layout"),t.append(i._writeDocumentMapItem(n.DocumentMap,0)),i.element.append(t)},_writeDocumentMapItem:function(n,t){var e=this,i=new $("<div />"),u,f,r,o;t!==0&&i.css("margin-left","34px"),u=new $("<div />"),u.addClass("fr-docmap-item").attr("title","Navigate to "+n.Label).html(n.Label);u.on("click",{UniqueName:n.UniqueName},function(n){e.options.$reportViewer.navigateDocumentMap(n.data.UniqueName)});if(n.Children){f=new $("<DIV />"),f.addClass("fr-docmap-parent-container"),e._setFocus(f),r=new $("<div class='fr-docmap-icon'/>"),t===0?r.addClass("fr-docmap-icon-up"):r.addClass("fr-docmap-icon-down");r.on("click",function(){var n=i.find("[level='"+t+"']");n.is(":visible")?(i.find("[level='"+t+"']").slideUpHide(),r.removeClass("fr-docmap-icon-up").addClass("fr-docmap-icon-down")):(i.find("[level='"+t+"']").slideUpShow(),r.removeClass("fr-docmap-icon-down").addClass("fr-docmap-icon-up"))});u.addClass("fr-docmap-item-root"),f.append(r),f.append(u),i.append(f),o=new $("<div level='"+t+"'>"),$.each(n.Children,function(n,i){o.append(e._writeDocumentMapItem(i,t+1))}),i.append(o),t!==0&&o.hide()}else i.addClass("fr-docmap-item-container"),e._setFocus(i),i.append(u);return i},_setFocus:function(n){n.hover(function(){$(this).addClass("fr-docmap-item-highlight")},function(){$(this).removeClass("fr-docmap-item-highlight")})}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets;$.widget(n.getFullname(n.reportPrint),{options:{$reportViewer:null},_create:function(){},_init:function(){var n=this;this._printOpen=!1},_printOpen:!1,setPrint:function(n){var t=this,i=t.options.$reportViewer.locData.print,r=i.unit,u;t.element.html(""),u=new $("<div class='fr-print-page'><div class='fr-print-innerPage fr-print-layout'><div class='fr-print-title'>"+i.title+"<\/div><form class='fr-print-form'><fidleset><div><label class='fr-print-label'>"+i.pageHeight+":<\/label><input class='fr-print-text' name='PageHeight' type='text' value="+t._unitConvert(n.PageHeight)+" /><label class='fr-print-unit-label'>"+r+"<\/label><\/div><div><label class='fr-print-label'>"+i.pageWidth+":<\/label><input class='fr-print-text' name='PageWidth' type='text' value="+t._unitConvert(n.PageWidth)+" /><label class='fr-print-unit-label'>"+r+"<\/label><\/div><div><label class='fr-print-label'>"+i.marginTop+":<\/label><input class='fr-print-text' name='MarginTop' type='text' value="+t._unitConvert(n.MarginTop)+" /><label class='fr-print-unit-label'>"+r+"<\/label><\/div><div><label class='fr-print-label'>"+i.marginBottom+":<\/label><input class='fr-print-text' name='MarginBottom' type='text' value="+t._unitConvert(n.MarginBottom)+" /><label class='fr-print-unit-label'>"+r+"<\/label><\/div><div><label class='fr-print-label'>"+i.marginLeft+":<\/label><input class='fr-print-text' name='MarginLeft' type='text' value="+t._unitConvert(n.MarginLeft)+" /><label class='fr-print-unit-label'>"+r+"<\/label><\/div><div><label class='fr-print-label'>"+i.marginRight+":<\/label><input class='fr-print-text' name='MarginRight' type='text' value="+t._unitConvert(n.MarginRight)+" /><label class='fr-print-unit-label'>"+r+"<\/label><\/div><div class='fr-print-button-group'><input class='fr-print-button fr-print-cancel fr-rounded' name='Cancel' type='button' value='"+i.cancel+"' /><input class='fr-print-button fr-print-submit fr-rounded' name='submit' type='button' value='"+i.print+"' /><\/div><\/fidleset><\/form><\/div><\/div>"),t.element.append(u),t.element.find(".fr-print-text").each(function(){$(this).attr("required","true").attr("number","true"),$(this).parent().addClass("fr-print-item").append($("<span class='fr-print-error-span'/>").clone())}),t._resetValidateMessage(),t._validateForm(t.element.find(".fr-print-form"));t.element.find(".fr-print-submit").on("click",function(){var n=t._generatePrintProperty();n!==null&&(t.options.$reportViewer.printReport(t._generatePrintProperty()),t.options.$reportViewer.showPrint())});t.element.find(".fr-print-cancel").on("click",function(){t.options.$reportViewer.showPrint()})},togglePrintPane:function(){var n=this,t=n.element.find(".fr-print-page");n._printOpen?(forerunner.dialog.removeMaskLayer(function(){n.element.hide()}),n._printOpen=!1):(forerunner.dialog.insertMaskLayer(function(){n.element.show()}),n._printOpen=!0)},closePrintPane:function(){var n=this;n._printOpen===!0&&n.togglePrintPane()},_validateForm:function(n){n.validate({errorPlacement:function(n,t){n.appendTo($(t).parent().find("span"))},highlight:function(n){$(n).parent().find("span").addClass("fr-print-error-position"),$(n).addClass("fr-print-error")},unhighlight:function(n){$(n).parent().find("span").removeClass("fr-print-error-position"),$(n).removeClass("fr-print-error")}})},_generatePrintProperty:function(){var r=this,t=[],i,n;if(r.element.find(".fr-print-form").valid()===!0){for(r.element.find(".fr-print-text").each(function(){t.push({key:this.name,value:r._generateUnitConvert(this.value)})}),i="[",n=0;n<t.length;n++)i+=n!==t.length-1?'{"key":"'+t[n].key+'","value":"'+t[n].value+'"},':'{"key":"'+t[n].key+'","value":"'+t[n].value+'"}';return i+"]",'{"PrintPropertyList":'+i+"}"}return null},_resetValidateMessage:function(){var t=this,n=t.options.$reportViewer.locData.validateError;jQuery.extend(jQuery.validator.messages,{required:n.required,number:n.number,digits:n.digits})},_unitConvert:function(n){var t=this;return t.options.$reportViewer.locData.print.unit==="in"?Math.round(n/25.4*100)/100:n},_generateUnitConvert:function(n){var t=this;return t.options.$reportViewer.locData.print.unit==="mm"?Math.round(n/25.4*100)/100:n}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr,t=n.constants.toolTypes;n.DefaultAppTemplate=function(n){var t=this;t.options={$container:null},n&&$.extend(this.options,n)},n.DefaultAppTemplate.prototype={render:function(){var n=this,t=n.options.$container,i,f,e,o,s,u,h,c,l,a,v,r,y,p,w;return t.addClass("fr-layout-container"),n.$container=t,i=new $("<div />"),i.addClass("fr-layout-leftpane"),n.$leftpane=i,f=new $("<div />"),f.addClass("fr-layout-leftheader"),n.$leftheader=f,e=new $("<div />"),e.addClass("fr-layout-leftheaderspacer"),n.$leftheaderspacer=e,o=new $("<div />"),o.addClass("fr-layout-leftpanecontent"),n.$leftpanecontent=o,i.append(f),i.append(e),i.append(o),t.append(i),s=new $("<div />"),s.addClass("fr-layout-mainviewport"),n.$mainviewport=s,t.append(s),u=new $("<div />"),u.addClass("fr-layout-topdiv"),n.$topdiv=u,t.append(u),h=new $("<div />"),h.addClass("fr-layout-mainheadersection"),n.$mainheadersection=h,u.append(h),c=new $("<div />"),c.addClass("fr-layout-topdivspacer"),n.$topdivspacer=c,t.append(c),l=new $("<div />"),l.addClass("fr-layout-pagesection"),n.$pagesection=l,t.append(l),n.$mainsection=new $("<div />"),n.$mainsection.addClass("fr-layout-mainsection"),n.$pagesection.append(n.$mainsection),n.$docmapsection=new $("<div />"),n.$docmapsection.addClass("fr-layout-docmapsection"),n.$pagesection.append(n.$docmapsection),n.$printsection=new $("<div />"),n.$printsection.addClass("fr-layout-printsection"),n.$printsection.addClass("fr-dialog"),n.$pagesection.append(n.$printsection),a=new $("<div />"),a.addClass("fr-layout-bottomdiv"),n.$bottomdiv=a,t.append(a),v=new $("<div />"),v.addClass("fr-layout-bottomdivspacer"),n.$bottomdivspacer=v,t.append(v),r=new $("<div />"),r.addClass("fr-layout-rightpane"),n.$rightpane=r,y=new $("<div />"),y.addClass("fr-layout-rightheader"),n.$rightheader=y,p=new $("<div />"),p.addClass("fr-layout-rightheaderspacer"),n.$rightheaderspacer=p,w=new $("<div />"),w.addClass("fr-layout-rightpanecontent"),n.$rightpanecontent=w,r.append(y),r.append(p),r.append(w),t.append(r),n.bindEvents(),setInterval(function(){n.toggleZoom()},100),this},bindEvents:function(){var n=this,t=forerunner.ssr.constants.events,i=$(".fr-layout-mainheadersection",n.$container);i.on(t.toolbarMenuClick(),function(){n.showSlideoutPane(!0)});i.on(t.toolbarParamAreaClick(),function(){n.showSlideoutPane(!1)});$(".fr-layout-rightpanecontent",n.$container).on(t.reportParameterRender(),function(){n.showSlideoutPane(!1)});$(".fr-layout-leftheader",n.$container).on(t.toolbarMenuClick(),function(){n.hideSlideoutPane(!0)});$(".fr-layout-rightheader",n.$container).on(t.toolbarParamAreaClick(),function(){n.hideSlideoutPane(!1)});$(".fr-layout-leftpanecontent",n.$container).on(t.toolPaneActionStarted(),function(){n.hideSlideoutPane(!0)});$(".fr-layout-rightpanecontent",n.$container).on(t.reportParameterSubmit(),function(){n.hideSlideoutPane(!1)});$(window).resize(function(){n.ResetSize()})},toggleZoom:function(){var n=this,i=forerunner.device.zoomLevel(),t;if(n.isZoomed()&&!n.wasZoomed){forerunner.device.isAndroid()&&$(".fr-layout-topdiv").is(":visible")&&$(".fr-layout-topdiv").fadeOut(10).fadeIn(10),n.wasZoomed=!0;return}!n.isZoomed()&&n.wasZoomed&&(forerunner.device.isAndroid()&&$(".fr-layout-topdiv").is(":visible")&&$(".fr-layout-topdiv").fadeOut(10).fadeIn(10),t=$(".fr-layout-reportviewer",n.$container),t.reportViewer("allowZoom",!1),n.wasZoomed=!1)},wasZoomed:!1,isZoomed:function(){var n=forerunner.device.zoomLevel();return n>1.15||n<.985?!0:!1},getHeightValues:function(){var t=this,n={};return n.windowHeight=$(window).height(),n.containerHeight=t.$container.height(),forerunner.device.isiOS()?(n.windowHeight=document.documentElement.clientHeight,!forerunner.device.isiPhone()||forerunner.device.isiPhoneFullscreen()||forerunner.device.isStandalone()||(n.windowHeight+=60,n.containerHeight+=60)):forerunner.device.isAndroid()&&(n.windowHeight=window.innerHeight),n.max=Math.max(n.windowHeight,n.containerHeight),n.paneHeight=n.windowHeight-38,n},ResetSize:function(){var n=this,i=$(".fr-layout-reportviewer",n.$container),t=n.getHeightValues();forerunner.device.isiPhone()&&$("body").css({minHeight:t.max}),$(".fr-layout-mainviewport",n.$container).css({height:"100%"}),$(".fr-layout-leftpane",n.$container).css({height:t.max}),$(".fr-layout-rightpane",n.$container).css({height:t.max}),$(".fr-layout-leftpanecontent",n.$container).css({height:t.paneHeight}),$(".fr-layout-rightpanecontent",n.$container).css({height:t.paneHeight}),$(".fr-param-container",n.$container).css({height:"100%"})},bindViewerEvents:function(){var n=this,i=forerunner.ssr.constants.events,t=$(".fr-layout-reportviewer",n.$container);t.on(i.reportViewerDrillBack(),function(){n.hideSlideoutPane(!1)});t.on(i.reportViewerDrillThrough(),function(){n.hideSlideoutPane(!0),n.hideSlideoutPane(!1)});t.on(i.reportViewerShowNav(),function(t,i){var r=$(".fr-layout-bottomdivspacer",n.$container);i.open?(r.show(),forerunner.device.isSmall()&&$(".fr-layout-pagesection",n.$container).hide()):(r.hide(),$(".fr-layout-pagesection",n.$container).show())});t.on(i.reportViewerShowDocMap(),function(){n.$container.addClass("fr-docmap-background")});t.on(i.reportViewerHideDocMap(),function(){n.$container.removeClass("fr-docmap-background")});t.on(i.reportViewerallowZoom(),function(n,i){i.isEnabled===!0?($(".fr-layout-topdiv").hide(),t.reportViewer("option","toolbarHeight",0)):($(".fr-layout-topdiv").show(),t.reportViewer("option","toolbarHeight",$(".fr-layout-topdiv").outerHeight()))});t.on(i.reportViewerSetPageDone(),function(){var n=$(".fr-report-areacontainer");n.height()>document.documentElement.clientHeight-38||n.width()>document.documentElement.clientWidth?$(".fr-render-bglayer").css("position","absolute").css("height",Math.max(n.height(),document.documentElement.clientHeight-38)).css("width",Math.max(n.width(),document.documentElement.clientWidth)):$(".fr-render-bglayer").css("position","fixed").css("top",38)});t.on(i.reportViewerChangePage(),function(){$(".fr-layout-pagesection",n.$container).show()})},getScrollPosition:function(){var n={};return n.left=$(window).scrollLeft(),n.top=$(window).scrollTop(),n},scrollToPosition:function(n){var t=this;t.savePosition=t.getScrollPosition(),$(window).scrollLeft(n.left),$(window).scrollTop(n.top)},restoreScrollPosition:function(){var n=this;n.savePosition&&($(window).scrollLeft(n.savePosition.left),$(window).scrollTop(n.savePosition.top),n.savePosition=null)},hideAddressBar:function(){var n=this;document.height<=window.outerHeight+10?setTimeout(function(){n.scrollToPosition({left:0,top:1})},50):setTimeout(function(){n.scrollToPosition({left:0,top:1})},0)},restoreScroll:function(){var n=this;document.height<=window.outerHeight+10?setTimeout(function(){n.restoreScrollPosition()},50):setTimeout(function(){n.restoreScrollPosition()},0)},removeModalDialog:function(){var n=this,t=$(".fr-layout-reportviewer",n.$container);t.reportViewer("closeModalDialog")},hideSlideoutPane:function(n){var t=this,u=n?"fr-layout-mainViewPortShiftedRight":"fr-layout-mainViewPortShiftedLeft",e=$(".fr-layout-mainviewport",t.$container),i=n?$(".fr-layout-leftpane",t.$container):$(".fr-layout-rightpane",t.$container),f=$(".fr-layout-topdiv",t.$container),r=Number(200);i.is(":visible")&&(n?i.slideLeftHide(r*.5):i.slideRightHide(r*.5),f.removeClass(u,r),$(".fr-layout-mainheadersection",t.$container).toolbar("showAllTools")),t.restoreScroll()},showSlideoutPane:function(n){var t=this;forerunner.device.allowZoom(!1),t.$container.resize();var u=n?"fr-layout-mainViewPortShiftedRight":"fr-layout-mainViewPortShiftedLeft",f=$(".fr-layout-mainviewport",t.$container),i=n?$(".fr-layout-leftpane",t.$container):$(".fr-layout-rightpane",t.$container),e=$(".fr-layout-topdiv",t.$container),r=Number(200);i.is(":visible")||(i.css({height:Math.max($(window).height(),f.height())}),n?i.slideLeftShow(r):i.slideRightShow(r),e.addClass(u,r),forerunner.device.allowZoom(!1),$(".fr-layout-mainheadersection",t.$container).toolbar("hideAllTools")),t.hideAddressBar()},toggleSlideoutPane:function(n){var t=this,i=n?$(".fr-layout-leftpane",t.$container):$(".fr-layout-rightpane",t.$container);i.is(":visible")?this.hideSlideoutPane(n):this.showSlideoutPane(n)},_selectedItemPath:null}}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var t=forerunner.ssr,n=forerunner.ssr.constants.events,i=t.constants.toolTypes,r=forerunner.localize.getLocData(forerunner.config.forerunnerFolder()+"/ReportViewer/loc/ReportViewer");t.ReportViewerInitializer=function(n){this.options={$toolbar:null,$toolPane:null,$viewer:null,$nav:null,$paramarea:null,$lefttoolbar:null,$righttoolbar:null,$docMap:null,$print:null,ReportViewerAPI:forerunner.config.forerunnerAPIBase()+"ReportViewer",ReportManagerAPI:forerunner.config.forerunnerAPIBase()+"ReportManager",ReportPath:null,toolbarHeight:null,navigateTo:null,isReportManager:!1},n&&$.extend(this.options,n)},t.ReportViewerInitializer.prototype={render:function(){var t=this,i=t.options.$viewer,r,u,l,s,f,e,h,o,c;if(t.options.$docMap.hide(),i.reportViewer({reportViewerAPI:t.options.ReportViewerAPI,reportPath:t.options.ReportPath,pageNum:1,docMapArea:t.options.$docMap}),r=t.options.$toolbar,r.toolbar({$reportViewer:i,$ReportViewerInitializer:this}),u=forerunner.ssr.tools.mergedButtons,t.options.isReportManager&&(r.toolbar("addTools",12,!0,[u.btnHome,u.btnFavorite]),r.toolbar("addTools",3,!0,[u.btnFav]),r.toolbar("disableTools",[u.btnFav])),i.reportViewer("option","toolbarHeight",r.outerHeight()),l=t.options.$lefttoolbar,l!==null&&l.toolbar({$reportViewer:i,$ReportViewerInitializer:this,toolClass:"fr-toolbar-slide"}),s=t.options.$righttoolbar,s!==null&&s.toolbar({$reportViewer:i,$ReportViewerInitializer:this,toolClass:"fr-toolbar-slide"}),t.options.isReportManager){s.toolbar("addTools",2,!0,[u.btnSavParam]);i.on(n.reportViewerShowParamArea(),function(){$.ajax({url:t.options.ReportManagerAPI+"/GetUserParameters?reportPath="+t.options.ReportPath,dataType:"json",async:!1,success:function(n){n.ParamsList&&o.reportParameter("overrideDefaultParams",n)}})})}if(f=forerunner.ssr.tools.mergedItems,e=t.options.$toolPane.toolPane({$reportViewer:i,$ReportViewerInitializer:this}),t.options.isReportManager){e.toolPane("addTools",2,!0,[f.itemHome]),e.toolPane("addTools",4,!0,[f.itemFav]),e.toolPane("disableTools",[f.itemFav]);i.on(n.reportViewerChangePage(),function(){e.toolPane("enableTools",[f.itemFav]),r.toolbar("enableTools",[u.btnFav])});i.on(n.reportViewerDrillThrough(),function(){t.setFavoriteState(i.reportViewer("option","reportPath"))});i.on(n.reportViewerDrillBack(),function(){t.setFavoriteState(i.reportViewer("option","reportPath"))})}h=t.options.$nav,h!==null&&(h.pageNav({$reportViewer:i}),i.reportViewer("option","pageNavArea",h)),o=t.options.$paramarea,o!==null&&(o.reportParameter({$reportViewer:i}),i.reportViewer("option","paramArea",o)),c=t.options.$print,c!==null&&(c.reportPrint({$reportViewer:i}),i.reportViewer("option","printArea",c)),t.options.isReportManager&&t.setFavoriteState(t.options.ReportPath)},setFavoriteState:function(n){var t=this;t.$btnFavorite=null,t.options.$toolbar!==null&&(t.$btnFavorite=t.options.$toolbar.find(".fr-button-update-fav").find("div")),t.$itemFavorite=null,t.options.$toolPane!==null&&(t.$itemFavorite=t.options.$toolPane.find(".fr-item-update-fav").find("div")),$.ajax({url:t.options.ReportManagerAPI+"/isFavorite?path="+n,dataType:"json",async:!0,success:function(n){t.updateFavoriteState(n.IsFavorite)},fail:function(){t.$btnFavorite&&t.$btnFavorite.hide(),t.$itemFavorite&&t.$itemFavorite.hide()}})},onClickBtnFavorite:function(n){var t=this,r=n.data.me,i="add";t.$btnFavorite.hasClass("fr-icons24x24-favorite-minus")&&(i="delete"),$.getJSON(t.options.ReportManagerAPI+"/UpdateView",{view:"favorites",action:i,path:r.options.$reportViewer.reportViewer("option","reportPath")}).done(function(){t.updateFavoriteState.call(t,i==="add")}).fail(function(){forerunner.dialog.showMessageBox("Failed")})},onClickItemFavorite:function(t){var i=this,u=t.data.me,r="add";i.$itemFavorite.hasClass("fr-icons24x24-favorite-minus")&&(r="delete"),u._trigger(n.actionStarted,null,u.allTools["fr-item-update-fav"]),$.getJSON(i.options.ReportManagerAPI+"/UpdateView",{view:"favorites",action:r,path:i.options.ReportPath}).done(function(){i.updateFavoriteState.call(i,r==="add")}).fail(function(){forerunner.dialog.showMessageBox("Failed")})},updateFavoriteState:function(n){var t=this;n?(t.$btnFavorite&&(t.$btnFavorite.addClass("fr-icons24x24-favorite-minus"),t.$btnFavorite.removeClass("fr-icons24x24-favorite-plus")),t.$itemFavorite&&(t.$itemFavorite.addClass("fr-icons24x24-favorite-minus"),t.$itemFavorite.removeClass("fr-icons24x24-favorite-plus"))):(t.$btnFavorite&&(t.$btnFavorite.removeClass("fr-icons24x24-favorite-minus"),t.$btnFavorite.addClass("fr-icons24x24-favorite-plus")),t.$itemFavorite&&(t.$itemFavorite.removeClass("fr-icons24x24-favorite-minus"),t.$itemFavorite.addClass("fr-icons24x24-favorite-plus")))}}}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets;$.widget(n.getFullname(n.reportViewerEZ),$.forerunner.toolBase,{options:{DefaultAppTemplate:null,path:null,navigateTo:null,historyBack:null,isReportManager:!1},_render:function(){var t=this,n=t.DefaultAppTemplate,r=t.options.path,i,u;forerunner.device.allowZoom(!1),n.$bottomdivspacer.addClass("fr-nav-spacer").hide(),n.$bottomdiv.addClass("fr-nav-container").hide(),r=r!==null?String(r).replace(/%2f/g,"/"):"/",n.$mainviewport.css({width:"100%",height:"100%"}),n.$mainsection.html(null),i=new $("<DIV />"),i.addClass("fr-layout-reportviewer"),n.$mainsection.append(i),u=new forerunner.ssr.ReportViewerInitializer({$toolbar:n.$mainheadersection,$toolPane:n.$leftpanecontent,$viewer:i,$nav:n.$bottomdiv,$paramarea:n.$rightpanecontent,$lefttoolbar:n.$leftheader,$righttoolbar:n.$rightheader,$docMap:n.$docmapsection,$print:n.$printsection,ReportViewerAPI:forerunner.config.forerunnerAPIBase()+"/ReportViewer",ReportPath:r,navigateTo:t.options.navigateTo,isReportManager:t.options.isReportManager}),u.render();i.on("reportviewerback",function(i,r){n._selectedItemPath=r.path,t.options.historyBack()});t.DefaultAppTemplate.bindViewerEvents(),n.$rightheaderspacer.height(n.$topdiv.height()),n.$leftheaderspacer.height(n.$topdiv.height())},_init:function(){var n=this;n.DefaultAppTemplate=n.options.DefaultAppTemplate===null?new forerunner.ssr.DefaultAppTemplate({$container:n.element}).render():n.options.DefaultAppTemplate,n._render()}})}),forerunner=forerunner||{},forerunner.ssr=forerunner.ssr||{},$(function(){var n=forerunner.ssr.constants.widgets;$.widget(n.getFullname(n.reportExplorerEZ),{options:{navigateTo:null,historyBack:null},transitionToReportManager:function(n,t){var r=this,e=n,i=r.DefaultAppTemplate,u,f;i.hideSlideoutPane(!0),i.hideSlideoutPane(!1),forerunner.device.allowZoom(!1),forerunner.dialog.closeModalDialog(),i.$bottomdivspacer.hide(),i.$bottomdiv.hide(),i.$topdivspacer.css({height:"32px"}),i.$mainviewport.css({width:"100%",height:"100%"}),n||(n="/"),t||(t="catalog"),u=i._selectedItemPath,i.$mainsection.html(null),i.$mainsection.show(),i.$docmapsection.hide(),i.$mainsection.reportExplorer({reportManagerAPI:forerunner.config.forerunnerAPIBase()+"/ReportManager",forerunnerPath:forerunner.config.forerunnerFolder(),path:n,view:t,selectedItemPath:u,navigateTo:r.options.navigateTo}),f=i.$mainheadersection,f.reportExplorerToolbar({navigateTo:r.options.navigateTo}),i.$rightheader.height(i.$topdiv.height()),i.$leftheader.height(i.$topdiv.height()),i.$rightheaderspacer.height(i.$topdiv.height()),i.$leftheaderspacer.height(i.$topdiv.height()),i._selectedItemPath=e,r.element.removeClass("fr-docmap-background"),r.element.addClass("fr-Explorer-background")},transitionToReportViewer:function(n){var t=this;t.DefaultAppTemplate._selectedItemPath=null,t.DefaultAppTemplate.$mainviewport.reportViewerEZ({DefaultAppTemplate:t.DefaultAppTemplate,path:n,navigateTo:t.options.navigateTo,historyBack:t.options.historyBack,isReportManager:!0}),t.element.addClass("fr-Explorer-background"),t.element.removeClass("fr-Explorer-background")},_init:function(){var n=this;n.DefaultAppTemplate=new forerunner.ssr.DefaultAppTemplate({$container:n.element}).render()}})});
//@ sourceMappingURL=Forerunner-all.min.js.map