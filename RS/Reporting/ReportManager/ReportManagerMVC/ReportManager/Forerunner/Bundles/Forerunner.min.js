var forerunner=forerunner||{},moment=moment||{};forerunner.ssr=forerunner.ssr||{};String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});jQuery.fn.extend({slideRightShow:function(n){return this.each(function(){$(this).show("slide",{direction:"right",easing:"easeInCubic"},n)})},slideDownShow:function(n){return this.each(function(){$(this).show("slide",{direction:"down",easing:"easeInCubic"},n)})},slideDownHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"down",easing:"easeInCubic"},n)})},slideUpShow:function(n){return this.each(function(){$(this).show("slide",{direction:"up",easing:"easeInCubic"},n)})},slideUpHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"up",easing:"easeInCubic"},n)})},slideLeftHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"left",easing:"easeOutCubic"},n)})},slideRightHide:function(n){return this.each(function(){$(this).hide("slide",{direction:"right",easing:"easeOutCubic"},n)})},slideLeftShow:function(n){return this.each(function(){$(this).show("slide",{direction:"left",easing:"easeInCubic"},n)})},mask:function(n,t,i){var r=$(this).find(".fr-core-mask");if(r.length===0&&(r=$("<div class='fr-core-mask'><\/div>"),$(this).append(r)),t?r.height(t):r.height($(this).height()),i?r.width(i):r.width($(this).width()),n&&typeof n=="function")r.on("click",n);return $(this)},unmask:function(n){var t=$(this).find(".fr-core-mask");if(t.length===0)return $(this);if(n&&typeof n=="function")t.on("click",n);return t.remove(),$(this)},multiLineEllipsis:function(){return this.each(function(){var t=$(this),i,n,u,f,e,r;if(t.css("overflow")==="hidden"){if(i=t.html(),n=$(this.cloneNode(!0)).hide().css("position","absolute").css("overflow","visible").width(t.width()).height("auto"),t.after(n),u=function(){return n.height()>t.height()},u()){if(f=" ...",n.html(i),e=parseInt(i.length*t.height()/n.height(),10),n.html(i.substr(0,e)+f),r=1,u()){do n.html(i.substr(0,e-r)+f),r++;while(u())}else{do n.html(i.substr(0,e+r)+f),r++;while(!u());r-=2;n.html(i.substr(0,e+r)+f)}t.html(n.html())}n.remove()}})},visible:function(n,t,i){var f=$(window);if(!(this.length<1)){var e=this.length>1?this.eq(0):this,o=e.get(0),s=f.width(),h=f.height(),u=t===!0?o.offsetWidth*o.offsetHeight:!0;if(i=i?i:"both",typeof o.getBoundingClientRect=="function"){var r=o.getBoundingClientRect(),p=r.top>=0&&r.top<h,w=r.bottom>0&&r.bottom<=h,c=r.left>=0&&r.left<s,ot=r.right>0&&r.right<=s,b=n?p||w:p&&w,k=n?c||c:c&&ot;if(i==="both")return u&&b&&k;if(i==="vertical")return u&&b;if(i==="horizontal")return u&&k}else{var l=f.scrollTop(),d=l+h,a=f.scrollLeft(),g=a+s,nt=e.offset(),v=nt.top,tt=v+e.height(),y=nt.left,it=y+e.width(),rt=n===!0?tt:v,ut=n===!0?v:tt,ft=n===!0?it:y,et=n===!0?y:it;if(i==="both")return!!u&&ut<=d&&rt>=l&&et<=g&&ft>=a;if(i==="vertical")return!!u&&ut<=d&&rt>=l;if(i==="horizontal")return!!u&&et<=g&&ft>=a}}},findUntil:function(n,t){var i=[];return this.addUntil(t,i),$(i).filter(n)},addUntil:function(n,t){var i=this.children().filter(":not( "+n+")");$.each(i,function(i,r){t.push(r);$(r).addUntil(n,t)})},visibleSize:function(){var n={},f,t,e,i,h,c,r,o,u,s,l,a;return i=$(window).scrollTop(),e=i+$(window).height(),t=this.offset().top,f=t+this.outerHeight(),c=t<i?i:t,h=f>e?e:f,n.height=h-c,n.height<this.height()&&(n.height+=-13),u=$(window).scrollLeft(),s=u+$(window).width(),r=this.offset().left,o=r+this.outerWidth(),l=r<u?u:r,a=o>s?s:o,n.width=a-l,n.width<this.width()&&(n.width+=-13),n}});$(function(){forerunner.ssr.constants={widgets:{reportExplorer:"reportExplorer",reportExplorerEZ:"reportExplorerEZ",pageNav:"pageNav",reportDocumentMap:"reportDocumentMap",reportParameter:"reportParameter",reportRender:"reportRender",reportViewer:"reportViewer",reportViewerEZ:"reportViewerEZ",toolbar:"toolbar",toolBase:"toolBase",toolPane:"toolPane",reportPrint:"reportPrint",reportRDLExt:"reportRDLExt",userSettings:"userSettings",messageBox:"messageBox",leftToolbar:"leftToolbar",rightToolbar:"rightToolbar",manageParamSets:"manageParamSets",parameterModel:"parameterModel",dsCredential:"dsCredential",subscriptionModel:"subscriptionModel",manageSubscription:"manageSubscription",manageMySubscriptions:"manageMySubscriptions",reportDeliveryOptions:"reportDeliveryOptions",subscriptionProcessingOptions:"subscriptionProcessingOptions",emailSubscription:"emailSubscription",reportExplorerToolbar:"reportExplorerToolbar",reportExplorerToolpane:"reportExplorerToolpane",unzoomToolbar:"unzoomToolbar",router:"router",history:"history",createDashboard:"createDashboard",dashboardEditor:"dashboardEditor",dashboardViewer:"dashboardViewer",reportProperties:"reportProperties",dashboardEZ:"dashboardEZ",dashboardToolbar:"dashboardToolbar",dashboardToolPane:"dashboardToolPane",forerunnerTags:"forerunnerTags",reportExplorerSearchFolder:"reportExplorerSearchFolder",forerunnerProperties:"forerunnerProperties",contextMenuBase:"contextMenuBase",reportExplorerContextMenu:"reportExplorerContextMenu",forerunnerSecurity:"forerunnerSecurity",forerunnerLinkedReport:"forerunnerLinkedReport",catalogTree:"catalogTree",viewerBase:"viewerBase",dialogBase:"dialogBase",uploadFile:"uploadFile",newFolder:"newFolder",forerunnerMoveItem:"forerunnerMoveItem",favoriteModel:"favoriteModel",paramSetMenu:"paramSetMenu",namespace:"forerunner",getFullname:function(n){return this.namespace+"."+n},_getDataName:function(n){return this.namespace+n.substr(0,1).toUpperCase()+n.substr(1)},hasWidget:function(n,t){var i=this._getDataName(t);return n&&n.data()&&n.data()[i]?!0:!1}},events:{actionStarted:"actionstarted",toolPaneActionStarted:function(){return forerunner.ssr.constants.widgets.toolPane.toLowerCase()+this.actionStarted},reportExplorerToolPaneActionStarted:function(){return forerunner.ssr.constants.widgets.reportExplorerToolpane.toLowerCase()+this.actionStarted},dashboardToolPaneActionStarted:function(){return forerunner.ssr.constants.widgets.dashboardToolPane.toLowerCase()+this.actionStarted},allowZoom:"allowZoom",reportViewerallowZoom:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.allowZoom).toLowerCase()},menuClick:"menuclick",toolbarMenuClick:function(){return(forerunner.ssr.constants.widgets.toolbar+this.menuClick).toLowerCase()},leftToolbarMenuClick:function(){return(forerunner.ssr.constants.widgets.leftToolbar+this.menuClick).toLowerCase()},reportExplorerToolbarMenuClick:function(){return(forerunner.ssr.constants.widgets.reportExplorerToolbar+this.menuClick).toLowerCase()},dashboardToolbarMenuClick:function(){return(forerunner.ssr.constants.widgets.dashboardToolbar+this.menuClick).toLowerCase()},beforeFetch:"beforefetch",afterFetch:"afterfetch",reportExplorerBeforeFetch:function(){return(forerunner.ssr.constants.widgets.reportExplorer+this.beforeFetch).toLowerCase()},reportExplorerAfterFetch:function(){return(forerunner.ssr.constants.widgets.reportExplorer+this.afterFetch).toLowerCase()},paramAreaClick:"paramareaclick",paramAreaClickTop:"paramareaclicktop",toolbarParamAreaClick:function(){return(forerunner.ssr.constants.widgets.toolbar+this.paramAreaClick).toLowerCase()},rightToolbarParamAreaClick:function(){return(forerunner.ssr.constants.widgets.rightToolbar+this.paramAreaClick).toLowerCase()},setPageDone:"setPageDone",reportViewerSetPageDone:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.setPageDone).toLowerCase()},changePage:"changepage",reportViewerChangePage:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.changePage).toLowerCase()},drillThrough:"drillThrough",reportViewerDrillThrough:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.drillThrough).toLowerCase()},back:"back",reportViewerBack:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.back).toLowerCase()},refresh:"refresh",reportViewerRefresh:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.refresh).toLowerCase()},actionHistoryPop:"actionHistoryPop",reportViewerActionHistoryPop:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.actionHistoryPop).toLowerCase()},changeReport:"changeReport",reportViewerChangeReport:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.changeReport).toLowerCase()},actionHistoryPush:"actionHistoryPush",reportViewerActionHistoryPush:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.actionHistoryPush).toLowerCase()},showNav:"showNav",reportViewerShowNav:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showNav).toLowerCase()},showDocMap:"showDocMap",reportViewerShowDocMap:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showDocMap).toLowerCase()},hideDocMap:"hideDocMap",reportViewerHideDocMap:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.hideDocMap).toLowerCase()},showParamArea:"showparamarea",reportViewerShowParamArea:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showParamArea).toLowerCase()},navToPosition:"navToPosition",reportViewerNavToPosition:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.navToPosition).toLowerCase()},loadCascadingParam:"loadcascadingparam",reportParameterLoadCascadingParam:function(){return(forerunner.ssr.constants.widgets.reportParameter+this.loadCascadingParam).toLowerCase()},render:"render",reportParameterRender:function(){return(forerunner.ssr.constants.widgets.reportParameter+this.render).toLowerCase()},submit:"submit",reportParameterSubmit:function(){return(forerunner.ssr.constants.widgets.reportParameter+this.submit).toLowerCase()},cancel:"cancel",reportParameterCancel:function(){return(forerunner.ssr.constants.widgets.reportParameter+this.cancel).toLowerCase()},showPane:"showPane",reportViewerShowPane:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showPane).toLowerCase()},hidePane:"hidePane",reportViewerHidePane:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.hidePane).toLowerCase()},showModalDialog:"showModalDialog",closeModalDialog:"closeModalDialog",modalDialogGenericSubmit:"modalDialogGenericSubmit",modalDialogGenericCancel:"modalDialogGenericCancel",modelChanged:"changed",parameterModelChanged:function(){return(forerunner.ssr.constants.widgets.parameterModel+this.modelChanged).toLowerCase()},modelSetChanged:"setchanged",parameterModelSetChanged:function(){return(forerunner.ssr.constants.widgets.parameterModel+this.modelSetChanged).toLowerCase()},showCredential:"showCredential",reportViewerShowCredential:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.showCredential).toLowerCase()},resetCredential:"resetCredential",reportViewerResetCredential:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.resetCredential).toLowerCase()},renderError:"renderError",reportViewerRenderError:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.renderError).toLowerCase()},preLoadReport:"preLoadReport",reportViewerPreLoadReport:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.preLoadReport).toLowerCase()},preLoadPage:"preLoadPage",reportViewerPreLoadPage:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.preLoadPage).toLowerCase()},afterLoadReport:"afterLoadReport",reportViewerAfterLoadReport:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.afterLoadReport).toLowerCase()},subscriptionFormInit:"subscriptionFormInit",reportViewersubscriptionFormInit:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.subscriptionFormInit).toLowerCase()},find:"find",reportViewerFind:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.find).toLowerCase()},findDone:"finddone",reportViewerFindDone:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.findDone).toLowerCase()},route:"route",routerRoute:function(){return(forerunner.ssr.constants.widgets.router+this.route).toLowerCase()},historyRoute:function(){return(forerunner.ssr.constants.widgets.history+this.route).toLowerCase()},close:"close",reportPropertiesClose:function(){return(forerunner.ssr.constants.widgets.reportProperties+this.close).toLowerCase()},userSettingsClose:function(){return(forerunner.ssr.constants.widgets.userSettings+this.close).toLowerCase()},forerunnerPropertiesClose:function(){return(forerunner.ssr.constants.widgets.forerunnerProperties+this.close).toLowerCase()},forerunnerSecurityClose:function(){return(forerunner.ssr.constants.widgets.forerunnerSecurity+this.close).toLowerCase()},forerunnerMoveItemClose:function(){return(forerunner.ssr.constants.widgets.forerunnerMoveItem+this.close).toLowerCase()},zoomChange:"zoomchange",reportViewerZoomChange:function(){return(forerunner.ssr.constants.widgets.reportViewer+this.zoomChange).toLowerCase()},afterTransition:"aftertransition",reportExplorerEZAfterTransition:function(){return(forerunner.ssr.constants.widgets.reportExplorerEZ+this.afterTransition).toLowerCase()},saveRDLDone:"saveRDLDone",renameItem:"renameItem",catalogSelected:"catalogSelected",getCatalogComplete:"getcatalogcomplete",catalogTreeCatalogSelected:function(){return(forerunner.ssr.constants.widgets.catalogTree+this.catalogSelected).toLowerCase()},catalogTreeGetCatalogComplete:function(){return(forerunner.ssr.constants.widgets.catalogTree+this.getCatalogComplete).toLowerCase()}},toolTypes:{button:"button",input:"input",textButton:"textbutton",plainText:"plaintext",containerItem:"containeritem",toolGroup:"toolgroup",select:"select"},toolbarConfigOption:{hide:"hide",minimal:"minimal",dashboardEdit:"dashboardEdit",full:"full"},dashboardSizeOption:{template:"template",report:"report",custom:"custom"},sortDirection:{desc:"Descending",asc:"Ascending"},navigateType:{toggle:"toggle",bookmark:"bookmark",drillThrough:"drillthrough",docMap:"documentMap"},exportType:{xml:"XML",csv:"CSV",pdf:"PDF",mhtml:"MHTML",excel:"EXCELOPENXML",tiff:"IMAGE",word:"WORDOPENXML"},properties:{description:"description",rdlExtension:"rdlExtension",tags:"tags",searchFolder:"searchFolder",visibility:"visibility"},itemType:{unknown:0,folder:1,report:2,resource:3,linkedReport:4,dataSource:5,model:6,site:7}};forerunner.config={_virtualRootBase:null,_apiBase:null,_forerunnerFolderPath:null,_customSettings:null,_dbConfig:null,_watermarkConfig:{useNative:!0,className:"fr-watermark"},_endsWith:function(n,t){return n.indexOf(t,n.length-t.length)},setVirtualRootBase:function(n){this._virtualRootBase=this._endsWith(n,"/")===-1?n+"/":n},virtualRootBase:function(){var r,i,t,n;if(!this._virtualRootBase)for(r=document.getElementsByTagName("script"),i=0;i<r.length;i++){if(t=r[i],n=this._endsWith(t.src,"Forerunner/Bundles/forerunner.min.js"),n!==-1){this._virtualRootBase=t.src.substring(0,n);break}if(n=this._endsWith(t.src,"Forerunner/Bundles/forerunner.js"),n!==-1){this._virtualRootBase=t.src.substring(0,n);break}}return this._virtualRootBase===null?"":this._virtualRootBase},forerunnerFolder:function(){return this._forerunnerFolderPath?this._forerunnerFolderPath:this.virtualRootBase()+"forerunner/"},setForerunnerFolder:function(n){this._forerunnerFolderPath=this._endsWith(n,"/")===-1?n+"/":n},forerunnerAPIBase:function(){return this._apiBase?this._apiBase:this.virtualRootBase()+"api/"},setAPIBase:function(n){this._apiBase=this._endsWith(n,"/")===-1?n+"/":n},setCustomSettings:function(n){forerunner.config._customSettings=n},getCustomSettings:function(n){var i,t;return forerunner.config._customSettings===null?(i=forerunner.config.forerunnerAPIBase()+"ReportManager/GetMobilizerSetting",forerunner.config.setCustomSettings({}),t=!1,n&&(t=!0),forerunner.ajax.ajax({url:i,dataType:"json",async:t,success:function(t){forerunner.config.setCustomSettings(t);n&&n(forerunner.config._customSettings)},fail:function(){forerunner.config.setCustomSettings({});console.log("Load mobilizer custom settings failed")},error:function(n,t){forerunner.config.setCustomSettings({});console.log("Load mobilizer custom settings.  textStatus: "+t);console.log(n)}})):n&&n(forerunner.config._customSettings),forerunner.config._customSettings},getMobilizerSharedSchedule:function(n){var t=this,i;return t._forerunnerSharedSchedule?n&&n(t._forerunnerSharedSchedule):(i=!1,n&&(i=!0),forerunner.ajax.ajax({url:forerunner.config.forerunnerFolder()+"../Custom/MobilizerSharedSchedule.txt",dataType:"json",async:i,success:function(i){forerunner.config._forerunnerSharedSchedule=i.SharedSubscriptions;n&&n(t._forerunnerSharedSchedule)},fail:function(){console.log("Load mobilizer custom settings failed")},error:function(n,t){console.log("Load mobilizer custom settings .  "+t)}})),t._forerunnerSharedSchedule},getCustomSettingsValue:function(n,t){var i=this.getCustomSettings();return i&&i[n]?i[n]:t},setDBConfiguration:function(n){forerunner.config._dbConfig=n},initialize:function(n){var t=this,i=function(){t._configDone===!0&&t._settingsDone===!0&&t._locDone===!0?(forerunner.ssr._internal.init(),n&&n()):setTimeout(i,5)};forerunner.config._initAsync=!0;t.getDBConfiguration(function(){t._configDone=!0});forerunner.localize._getLocData(forerunner.config.forerunnerFolder()+"ReportViewer/loc/ReportViewer","json",function(){t._locDone=!0});t.getCustomSettings(function(){t._settingsDone=!0});i()},getDBConfiguration:function(n){var r=this,i,t;return forerunner.config._dbConfig===null||jQuery.isEmptyObject(forerunner.config._dbConfig)?(i=forerunner.config.forerunnerAPIBase()+"ReportManager/GetDBConfig",t=!1,forerunner.config._initAsync===!0&&(t=!0),forerunner.ajax.ajax({url:i,dataType:"json",async:t,success:function(t){forerunner.config.setDBConfiguration(t);n&&n(forerunner.config._dbConfig)},fail:function(){forerunner.config.setDBConfiguration({});console.log("Load database configuration failed");n&&n(forerunner.config._dbConfig)},error:function(t,i){forerunner.config.setDBConfiguration({});console.log("Load mobilizer configuration failed.  textStatus: "+i);console.log(t);n&&n(forerunner.config._dbConfig)}})):n&&n(forerunner.config._dbConfig),forerunner.config._dbConfig},setWatermarkConfig:function(n){forerunner.config._watermarkConfig=n||forerunner.config._watermarkConfig},getWatermarkConfig:function(){return forerunner.config._watermarkConfig}};forerunner.helper={urlParam:function(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return t===null?null:t[1]||0},pushIfNot:function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return;n.push(t)},sortNumberArray:function(n,t){return t?n.sort(function(n,t){return n-t}):n.sort(function(n,t){return t-n}),n},objectSize:function(n){var t=0;for(var i in n)n.hasOwnProperty(i)&&t++;return t},guidGen:function(){var t=function(n,i,r){return n.length>=i?n:t(r+n,i,r||" ")},n=function(n){var i=n.toString(16);return t(i,4,"0")},u=function(){var t=new window.Uint16Array(8);return window.crypto.getRandomValues(t),[n(t[0])+n(t[1]),n(t[2]),n(t[3]),n(t[4]),n(t[5])+n(t[6])+n(t[7])].join("-")},f=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t==="x"?i:i&7|8).toString(16)})},i=!1,r=typeof crypto!="undefined";return r&&(i=typeof window.crypto.getRandomValues!="undefined"),r&&i?u():f()},containElement:function(n,t){for(var r=!1,i=n;;){if(i===null||i===undefined)break;if($.each(t,function(n,t){if($(i).hasClass(t))return r=!0,!1}),r)break;else i=i.parentElement}return r},createDiv:function(n){for(var i=new $("<div />"),t=0;t<n.length;t++)i.addClass(n[t]);return i},JSONParse:function(n){try{return $.type(n)==="string"&&$.trim(n)!==""?jQuery.parseJSON(n):$.type(n)==="object"?n:{}}catch(t){return{}}},createDropDownForValidValues:function(n){for(var i,r=new $("<SELECT />"),t=0;t<n.length;t++)i=new $("<OPTION />"),i.attr("value",n[t].Value),i.append(n[t].Label),r.append(i);return r},createRadioButtonsForValidValues:function(n,t,i){return this._createInput(n,t,"radio",i)},createCheckBoxForValidValues:function(n,t){return this._createInput(n,t,"checkbox")},_createInput:function(n,t,i,r){for(var u,s,e,o=new $("<DIV />"),f=0;f<n.length;f++){if(u=new $("<INPUT />"),s=forerunner.helper.guidGen(),u.attr("type",i),u.attr("id",s),u.attr("value",n[f].Value),u.attr("name",t),r)u.on("click",r);e=new $("<LABEL />");e.attr("for",s);e.append(n[f].Label);o.append(u);o.append(e)}return o},htmlEncode:function(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},htmlDecode:function(n){return String(n).replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")},hasAttr:function(n,t){return typeof n.attr(t)!="undefined"},parseCss:function(n,t){return parseInt(n.css(t),10)||0},getParentPath:function(n){var i,t;return!n||n==="/"?null:(i=n.split("&"),n=i[0],t=n.lastIndexOf("/"),t===-1)?null:t!==0&&n.substr(t-1,1)==="/"?"/":n.slice(0,t)},endsWith:function(n,t){return!n.indexOf(t,n.length-t.length)},combinePaths:function(n){for(var t=n,i=1;i<arguments.length;i++)t=this.endsWith(t,"/")?t+arguments[i]:t+"/"+arguments[i];return t.indexOf("http:")===-1&&(t=t.replace("//","/")),t},getCurrentItemName:function(n){var i,t;return n?(i=n.split("&"),n=i[0],t=n.lastIndexOf("/"),t===-1)?n:n.slice(t+1):null},delay:function(n,t,i,r){i||(i=100);r||(r="_delayTimerId");n[r]&&(clearTimeout(n[r]),n[r]=null);n[r]=setTimeout(function(){t();n[r]=null},i)}};forerunner.styleSheet={_findImportedSheet:function(n,t){var r=t.cssRules||t.rules,i=null;return $.each(r,function(t,r){if(r.styleSheet&&r.styleSheet.href){if(r.styleSheet.href.match(new RegExp(n,"i")))return i=r.styleSheet,!1;if(i=forerunner.styleSheet._findImportedSheet(n,r.styleSheet),i)return!1}}),i},_findSheet:function(n){var t=null;return $.each(document.styleSheets,function(i,r){return r.href&&r.href.match(new RegExp(n,"i"))?(t=r,!1):(t=forerunner.styleSheet._findImportedSheet(n,r),t?!1:void 0)}),t},updateDynamicRules:function(n){$.each(document.styleSheets,function(t,i){for(var r,u=i.cssRules||i.rules,e=u?u.length:0,f=0;f<e;f++)r=u[f],$.each(n,function(n,t){var f=t.selector.toLowerCase(),i,u;if(r.selectorText&&r.selectorText.toLowerCase()===f){for(i in t.properties())u=t.properties()[i],u!==null||u===""?r.style[i]=u:forerunner.device.isMSIE8()?r.style.removeAttribute(i):r.style.removeProperty(i);return!1}})})},internalDynamicRules:function(){var n=[],t=forerunner.config.forerunnerFolder(),i={selector:".fr-toolbase-show-if-mobile",properties:function(){var n={display:"none"};return forerunner.device.isMobile()&&(n.display=null),n}},r={selector:".fr-toolpane .fr-toolbase-show-if-mobile",properties:function(){var n={display:"none"};return forerunner.device.isMobile()&&(n.display=null),n}},u={selector:".fr-toolbase-hide-if-mobile",properties:function(){var n={display:null};return forerunner.device.isMobile()&&(n.display="none"),n}},f={selector:".fr-toolpane .fr-toolbase-hide-if-mobile",properties:function(){var n={display:null};return forerunner.device.isMobile()&&(n.display="none"),n}},e={selector:".fr-explorer-folder-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/folder.png', sizingMethod='scale')"}}},o={selector:".fr-explorer-folder-selected-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/folder_selected.png', sizingMethod='scale')"}}},s={selector:".fr-report-item-outer-image-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/report_bkg.png', sizingMethod='scale')"}}},h={selector:".fr-report-item-ear-image-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/report_ear.png', sizingMethod='scale')"}}},c={selector:".fr-explorer-item-ear-selcted-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/report_ear_selected.png', sizingMethod='scale')"}}},l={selector:".fr-explorer-searchfolder-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/Folder_Search.png', sizingMethod='scale')"}}},a={selector:".fr-explorer-searchfolder-selected-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/SelectedFolder_Search.png', sizingMethod='scale')"}}},v={selector:".fr-explorer-dashboard-ie8",properties:function(){return{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/reportexplorer/images/ResourceIcons/dashboard.png', sizingMethod='scale')"}}};return n.push(i),n.push(u),n.push(r),n.push(f),forerunner.device.isMSIE8()&&(n.push(e),n.push(o),n.push(s),n.push(h),n.push(c),n.push(l),n.push(a),n.push(v)),n}};forerunner.localize={_locData:{},_languageList:null,_getaLangDataFile:function(n,t,i,r,u){var f=this,e,o;if(f._languageList[i]&&(e=f._languageList[i].toLocaleLowerCase()),t&&e&&e.length>2&&(e=e.substring(0,2)),u)f._loadFile(n,e,r,function(e){e?u(e):i<f._languageList.length&&f._getaLangDataFile(n,t,i+1,r,u)});else{if(o=f._loadFile(n,e,r),o)return o;if(i<f._languageList.length)return f._getaLangDataFile(n,t,i+1,r)}},locFileLocation:forerunner.config.forerunnerFolder()+"ReportViewer/loc/ReportViewer",getLocData:function(){return forerunner.localize._getLocData(forerunner.localize.locFileLocation,"json")},_getLocData:function(n,t,i){var r=this,u=null,f=function(){if(i)r._getaLangDataFile(n,!1,0,t,function(u){u?i(u):r._getaLangDataFile(n,!0,0,t,function(u){u?i(u):r._loadFile(n,"en",t,function(){i(u)})})});else return(u=r._getaLangDataFile(n,!1,0,t),u)?u:(u=r._getaLangDataFile(n,!0,0,t),u||(u=r._loadFile(n,"en",t)),u)};if(i)r._getLanguages(f);else return f(r._getLanguages())},getLocalizedValue:function(n,t){var f=this,u=f._languageList,r,i;if(!u)return n;for(r=0;r<u.length;r++)if(i=u[r],i=i.toLocaleLowerCase(),t[i])return t[i].value;return n},_getLanguages:function(n){var t=this,i,r;return t._languageList?n&&n(t._languageList):(i=!1,n&&(i=!0),r=function(){t._lockLangCall?setTimeout(r,5):n(t._languageList)},t._lockLangCall?r():(t._lockLangCall=!0,forerunner.ajax.ajax({url:forerunner.config.forerunnerAPIBase()+"reportViewer/AcceptLanguage",dataType:"json",async:i,success:function(i){t._languageList=i;t._lockLangCall=!1;n&&n(t._languageList)},done:function(){t._lockLangCall=!1},fail:function(){t._languageList=null},error:function(){t._languageList=null}}))),t._languageList},_loadFile:function(n,t,i,r){var u=this,f,e;return i||(i="json"),u._locData[n]===undefined&&(u._locData[n]={}),f=!1,r&&(f=!0),e=function(){u._locData[n].locked?setTimeout(e,5):r(u._locData[n][t])},u._locData[n].locked?e():u._locData[n][t]===undefined?(u._locData[n].locked=!0,forerunner.ajax.ajax({url:forerunner.config.forerunnerAPIBase()+"reportManager/GetMobilizerLocFile",data:{LocFile:n+"-"+t+".txt"},dataType:i,async:f,success:function(i){u._locData[n][t]=i;u._locData[n].locked=!1;r&&r(u._locData[n][t])},fail:function(){u._locData[n][t]=null;u._locData[n].locked=!1;r&&r(u._locData[n][t])},error:function(){u._locData[n][t]=null;u._locData[n].locked=!1;r&&r(u._locData[n][t])}})):r&&r(u._locData[n][t]),u._locData[n][t]}};forerunner.ajax={loginUrl:null,isFormsAuth:function(n){var i=this,t;if(n)i._getLoginUrl(function(t){n(t&&t.length>0)});else return t=this._getLoginUrl(),t&&t.length>0},_getLoginUrl:function(n){var t=this,i=!1,r;return n&&(i=!0),r=function(){t.getLoginURLLock===!0?setTimeout(r,5):n(t.loginUrl)},t.getLoginURLLock===!0&&i===!0&&r(),t.loginUrl||t.getLoginURLLock===!0?n&&n(t.loginUrl):(t.getLoginURLLock=!0,forerunner.ajax.ajax({url:forerunner.config.forerunnerAPIBase()+"reportViewer/LoginUrl",dataType:"json",async:i,success:function(i){t.loginUrl=i.LoginUrl.replace("~","");t.getLoginURLLock=!1;n&&n(t.loginUrl)},fail:function(){t.loginUrl="";t.getLoginURLLock=!1},error:function(){t.loginUrl="";t.getLoginURLLock=!1}})),t.loginUrl},_handleRedirect:function(n){var t=this;(n.status===401||n.status===302)&&t._getLoginUrl(function(n){var t=n+"?ReturnUrl="+encodeURIComponent(window.location.href);window.location.href=t})},ajax:function(n){var u=this,i=n.error,r=n.success,t;return n.success=null,n.async!==!1&&(n.async=!0),forerunner.config.enableCORSWithCredentials&&(n.xhrFields={withCredentials:!0,crossDomain:!0}),n.fail&&(i=n.fail),t=$.ajax(n),n.done&&t.done(n.done),r&&t.done(r),t.fail(function(n,t,r){u._handleRedirect(n);i&&i(n,t,r,this)}),t},getJSON:function(n,t,i,r){var f=this,u={};return u.data=t,u.done=i,u.fail=r,u.dataType="json",u.url=n,f.ajax(u)},post:function(n,t,i,r){var f=this,u={};return u.type="POST",u.data=t,u.url=n,u.success=i,u.fail=r,forerunner.ajax.ajax(u)},hasPermission:function(n,t,i,r){var u={},f=!1,e;return r&&(f=!0),e=forerunner.config.forerunnerAPIBase()+"ReportManager/HasPermission",forerunner.ajax.ajax({url:e,data:{path:n,permission:t,instance:i},dataType:"json",async:f,success:function(n){u=n;r&&r(u)},fail:function(n){console.log("hasPermission() - "+n.statusText);console.log(n);r&&r({})}}),u},_userSetting:null,_userName:null,setUserSetting:function(n){this._userSetting=n},getUserName:function(n,t){var i=this,r,u;return i._userName===null?(r=forerunner.config.forerunnerAPIBase()+"ReportManager/GetUserName",n&&(r+="?instance="+n),u=!1,t&&(u=!0),forerunner.ajax.ajax({url:r,dataType:"text",async:u,success:function(n){forerunner.ajax._userName=n;t&&t(i._userName)}})):t&&t(i._userName),i._userName},getUserSetting:function(n,t){var i=this,r,u;return i._userSetting===null?(r=forerunner.config.forerunnerAPIBase()+"ReportManager/GetUserSettings",n&&(r+="?instance="+n),u=!1,forerunner.config._initAsync===!0&&(u=!0),forerunner.ajax.ajax({url:r,dataType:"json",async:u,success:function(n){forerunner.ajax._userSetting=n;t&&t(forerunner.ajax._userSetting)}})):t&&t(i._userSetting),i._userSetting},getBuildVersion:function(n){var t=this,r=forerunner.config.forerunnerAPIBase()+"ReportManager/GetMobilizerVersion",i=!1;return n&&(i=!0),forerunner.ajax.ajax({url:r,dataType:"text",async:i,done:function(){n&&n(t._buildVersion)},success:function(n){t._buildVersion=n},fail:function(n){console.log(n)},error:function(n,t,i){console.log(i)}}),t._buildVersion}};forerunner.device={isTouch:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0},isPortrait:function(){return window.orientation?window.orientation&2?!1:!0:$(window).height()>$(window).width()},isiOS:function(){var n=navigator.userAgent;return n.match(/(iPhone|iPod|iPad)/)!==null},isiPhone:function(){var n=navigator.userAgent;return n.match(/(iPhone|iPod)/)!==null},isiPad:function(){var n=navigator.userAgent;return n.match(/(iPad)/)!==null},isFirefox:function(){var n=navigator.userAgent;return n.match(/(Firefox)/)!==null},isSafari:function(){var n=navigator.userAgent;return n.indexOf("Safari")!==-1&&n.indexOf("Chrome")===-1?!0:!1},isSafariPC:function(){var n=navigator.userAgent;return n.indexOf("Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows")!==-1?!0:!1},isMSIE:function(){var n=navigator.userAgent;return n.match(/(MSIE)/)!==null||n.match(/(.NET)/)!==null},isMSIE8:function(){var n=navigator.userAgent;return n.match(/(MSIE 8)/)!==null||n.match(/(MSIE 7)/)!==null},isMSIE9:function(){var n=navigator.userAgent;return n.match(/(MSIE 9)/)!==null},isMSIEAndTouch:function(){var n=navigator.userAgent;return n.match(/(MSIE)/)!==null&&n.match(/(Touch)/)!==null},isWindowsPhone:function(){var n=navigator.userAgent;return n.match(/(Windows Phone)/)!==null},isWindowsPhone81:function(){var n=navigator.userAgent;return n.match(/(Windows Phone 8.1)/)!==null},isIEMobile9:function(){var n=navigator.userAgent;return forerunner.device.isWindowsPhone()&&n.match(/(IEMobile\/9.0)/)!==null},isIEMobile10:function(){var n=navigator.userAgent;return forerunner.device.isWindowsPhone()&&n.match(/(IEMobile\/10.0)/)!==null},isIEMobile11:function(){var n=navigator.userAgent;return forerunner.device.isWindowsPhone()&&n.match(/(IEMobile\/11.0)/)!==null},isStandalone:function(){return window.navigator.standalone?!0:!1},isiPhoneFullscreen:function(){return forerunner.device.isiPhone()&&document.documentElement.clientHeight===320?!0:!1},isAndroid:function(){var n=navigator.userAgent;return n.match(/(Android)/)!==null},isChrome:function(){var n=navigator.userAgent;return n.match(/(Chrome)/)!==null||n.match(/(CriOS)/)!==null},isMobile:function(){var n=this;return n.isiOS()||n.isAndroid()||n.isWindowsPhone()},_allowZoomFlag:null,allowZoom:function(n){if(this._allowZoomFlag!==n){if(this._allowZoomFlag=n,forerunner.device.isWindowsPhone81()){if(n===!0)$("#fr-viewport-style").remove();else{var t=$("<style id=fr-viewport-style>@-ms-viewport {width:auto; user-zoom:fixed;}<\/style>");$("head").slice(0).append(t)}return}n===!0?($("head meta[name=viewport]").remove(),$("head").prepend("<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=10.0, minimum-scale=0, user-scalable=yes' />")):($("head meta[name=viewport]").remove(),$("head").prepend("<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no' />"))}},isAllowZoom:function(){return this._allowZoomFlag},zoomLevel:function(){return document.documentElement.clientWidth/window.innerWidth},isElementInViewport:function(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isSmall:function(n){return n.height()<forerunner.config.getCustomSettingsValue("FullScreenPageNavSize",768)?!0:!1}};forerunner.cache={itemProperty:{}};forerunner.dialog={dialogLock:!1,showModalDialog:function(n,t){var i=this;forerunner.device.isWindowsPhone()||n.trigger(forerunner.ssr.constants.events.showModalDialog);setTimeout(function(){n.mask(undefined,document.body.scrollHeight,document.body.scrollWidth);t.element.css({top:$(window).scrollTop(),left:$(window).scrollLeft()}).show();i._removeEventsBinding();$(window).on("resize",{target:t,me:i},i._setPosition);$(document).on("keyup",{target:t},i._bindKeyboard)},200)},closeModalDialog:function(n,t){var i=this;(t.element.css({top:"",left:""}).hide(),forerunner.dialog.dialogLock)||(i._removeEventsBinding(),n.unmask(),forerunner.device.isWindowsPhone()||n.trigger(forerunner.ssr.constants.events.closeModalDialog))},closeAllModalDialogs:function(n){var t=this;t._removeEventsBinding();$.each(n.find(".fr-dialog-id"),function(t,i){var r=$(i);r.is(":visible")&&(n.unmask(),r.hide())})},_messageBox:null,showMessageBox:function(n,t,i){var r=this;r._messageBox===null&&(r._messageBox=n.children(".fr-messagebox"),r._messageBox.length===0&&(r._messageBox=$("<div class='fr-messagebox fr-dialog-id fr-core-dialog-layout fr-core-widget'/>"),r._messageBox.messageBox({$appContainer:n}),n.append(r._messageBox)));r._messageBox.messageBox("openDialog",t,i)},isMessageBoxVisible:function(){var n=this;return n._messageBox&&n._messageBox.is(":visible")?!0:!1},getModalDialogHeaderHtml:function(n,t,i,r,u,f){var e="<div class='fr-core-dialog-header'><div class='fr-core-dialog-icon-container'><div class='fr-core-dialog-icon-inner'><div class='fr-icons24x24 fr-core-dialog-align-middle "+n+"'><\/div><\/div><\/div><div class='fr-core-dialog-title-container'><div class='fr-core-dialog-title'>"+t+"<\/div><\/div>";return e+="<div class='fr-core-dialog-cancel-container'><input type='button' class='fr-core-dialog-cancel "+i+"' title='"+r+"' /><\/div>",u&&(e+="<div class='fr-core-dialog-action-container'><input type='button' class='fr-core-dialog-action "+u+"' title='"+f+"' /><\/div>"),e+"<\/div>"},_setPosition:function(n){var t=n.data.me,i=n.data.target;forerunner.helper.delay(t,function(){var t={height:document.body.scrollHeight,width:document.body.scrollWidth},n=$(".fr-core-mask:first");n.length&&n.css(t);i.element.css({top:$(window).scrollTop(),left:$(window).scrollLeft()})},50,"_dialogTimerId")},_bindKeyboard:function(n){var t=n.data.target.element;switch(n.keyCode){case 13:t.trigger(forerunner.ssr.constants.events.modalDialogGenericSubmit);break;case 27:t.trigger(forerunner.ssr.constants.events.modalDialogGenericCancel)}},_removeEventsBinding:function(){var n=this;$(window).off("resize",n._setPosition);$(document).off("keyup",n._bindKeyboard)}};forerunner.ssr.map=function(n){this.data=n||{}};forerunner.ssr._writeRDLExtActions=function(n,t,i,r,u,f,e,o,s,h,c){var d=this,v,y,p,l,a,w,b;if(t!==null&&t!==undefined&&(v=t[n],y={},v?(y=t.SharedActions,y===undefined&&(y={})):v={},v.JavaScriptActions))for(p=0;p<v.JavaScriptActions.length;p++)for(l=v.JavaScriptActions[p],l.SharedAction&&y[l.SharedAction]&&(a=y[l.SharedAction].JavaScriptActions),w=0;;){if(a!==undefined&&a[w]&&(l=a[w++]),l.JavaFunc===undefined&&l.Code!==undefined&&(r!==!0||r===!0&&l.ImageMapArea===!0)){try{b=new Function("e",l.Code)}catch(k){console.log(k.message)}l.JavaFunc=b;l.On===undefined&&(l.On="click")}l.On==="click"&&i.addClass("fr-core-cursorpointer");i.on(l.On,{reportViewer:u,element:i,getInputs:f,easySubmit:e,getParameters:o,setParamError:s,deleteCurrentRow:h,insertNewRow:c},l.JavaFunc);if(a===undefined||(a!==undefined&&a[w])===undefined)break}};forerunner.ssr.map.prototype={add:function(n,t){if(typeof n=="object")for(var i in n)n.hasOwnProperty(i)&&this.add(i,n[i]);else this.data[n]=t},get:function(n){return this.data[n]},remove:function(n){for(var i,t,r=0;r<arguments.length;r++)if(t=arguments[r],typeof n=="string")delete this.data[t];else if(t.length)for(i=0;i<t.length;i++)delete this.data[t[i]]},has:function(n){return Object.prototype.hasOwnProperty.call(this.data,n)},isEmpty:function(){for(var n in this.data)if(this.has(n))return!1;return!0},keys:function(){return Object.keys(this.data)},clear:function(){this.data={}}};forerunner.ssr._internal={getParametersFromUrl:function(n){for(var r=[],o=n.indexOf("?")+1,u=n.substring(o).split("&"),t=0;t<u.length;t++){var f=u[t].split("="),e=decodeURIComponent(f[0]),s=decodeURIComponent(f[1]),i=e.substring(0,3);i!=="rs:"&&i!=="rc:"&&i!=="fr:"&&r.push({Parameter:e,Value:s,IsMultiple:"false",Type:""})}return r},getOptionsFromURL:function(n){var u;if(n===null)return null;var t={isReportManager:!0,showBreadCrumb:!0,useReportManagerSettings:!0,showToolbar:!0,showParameterArea:"Collapsed",section:1,Zoom:"100",deviceInfo:{}},o=n.indexOf("?")+1,e=n.substring(o).split("&");for(u=0;u<e.length;u++){var f=e[u].split("="),i=decodeURIComponent(f[0]).toLowerCase(),r=decodeURIComponent(f[1]).toLowerCase();if(i==="fr:reportmanager")t.isReportManager=!(r==="false");else if(i==="fr:showbreadcrumb")t.showBreadCrumb=!(r==="false");else if(i==="fr:reportmanagersettings")t.useReportManagerSettings=!(r==="false");else if(i==="fr:showsubscriptiononopen")t.showSubscriptionOnOpen=r;else if(i==="rc:toolbar")t.showToolbar=!(r==="false");else if(i==="rc:parameters")t.showParameterArea=r;else if(i==="rc:zoom")t.zoom=r;else if(i==="rc:section")try{t.section=parseInt(r,10)}catch(s){t.section=1}else i.indexOf("rc:")===0&&(t.deviceInfo[decodeURIComponent(f[0]).substring(3,i.length-1)]=decodeURIComponent(f[1]))}return t},cultureDateFormat:null,_setDateFormat:function(n){var t=n.getLocData().datepicker.dateFormat;forerunner.ssr._internal.cultureDateFormat=t},getDateFormat:function(n){return this.cultureDateFormat||this._setDateFormat(n),this.cultureDateFormat},getStandardMomentDateFormat:function(){return"YYYY-MM-DD"},getMomentDateFormat:function(){var n=this.getDateFormat().toUpperCase(),t=n.replace("DD","D").replace("MM","M"),i=n.replace("YY","YYYY"),r=t.replace("YY","YYYY");return[n,t,i,r]},init:function(){var i=this,t,n;i.initDone!==!0&&(i.initDone=!0,forerunner.device.isMSIE()&&forerunner.config.setWatermarkConfig({useNative:!1,className:"fr-watermark"}),forerunner.styleSheet.updateDynamicRules(forerunner.styleSheet.internalDynamicRules()),$.validator&&(t=forerunner.localize,n=t.getLocData().validateError,jQuery.extend(jQuery.validator.messages,{required:n.required,remote:n.remote,email:n.email,url:n.url,date:n.date,dateISO:n.dateISO,number:n.number,digits:n.digits,maxlength:$.validator.format(n.maxlength),minlength:$.validator.format(n.minlength),rangelength:$.validator.format(n.rangelength),range:$.validator.format(n.range),max:$.validator.format(n.max),min:$.validator.format(n.min),autoCompleteDropdown:n.invalid,invalidTree:n.invalidTree}),$.validator.addMethod("formattedDate",function(n){return $.trim(n)===""?!0:moment(n,forerunner.ssr._internal.getMomentDateFormat(t),!0).isValid()},n.date),$.validator.addMethod("autoCompleteDropdown",function(n,t){return $(t).hasClass("fr-param-autocomplete-error")?!1:!0},n.autoCompleteDropdown),$.validator.addMethod("cascadingTree",function(n,t){return $(t).hasClass("fr-param-cascadingtree-error")?!1:!0},n.invalidTree)))}}});
/*
//# sourceMappingURL=Forerunner.min.js.map
*/