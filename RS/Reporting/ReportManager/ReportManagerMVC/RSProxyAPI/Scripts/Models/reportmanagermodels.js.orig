// Assign or create the single globally scoped variable
var g_App = g_App || {};

// Everything inside this function is local unless assigned to a global variable such
// as g_App
(function() {
<<<<<<< HEAD
  // TODO:  These needs to be fixed up!!!
  var hostname = window.document.location.hostname;
  var urlBase = 'http://' + hostname + ':9000/api/';
    //var reportServerUrl = hostname + '/reportserver_winauth';
  var reportServerUrl = hostname + ':8080/reportserver';
=======
  var urlBase = g_App.configs.apiBase;
>>>>>>> 2e12b07e54af6a23a2b70d12ae75cb4f4e42088b

  // Models
  g_App.CatalogItem = Backbone.Model.extend({
    url: function() {
      return urlBase + 'CatalogItems/' + this.get('id');
    },
    viewerUrl : function() {
      return urlBase + 'ReportViewer/';
    },
    reportServerUrl: function () {
      return g_App.configs.reportServerUrl;
    }
  });

  g_App.CatalogItemCollection = Backbone.Collection.extend({
    model: g_App.CatalogItem,
    initialize: function(options) {
      this.path = options.path;
    },
    url: function () {
      if (this.path != null && this.path != '/') {
          return urlBase + 'CatalogItems?path=' + this.path + '&isRecursive=false';
      } else {
          return urlBase + 'CatalogItems?isRecursive=false';
      }
    }
  });
}());
