; ========================================================
; This file was generated by NSISDialogDesigner 1.1.2.0
; http://coolsoft.altervista.org/nsisdialogdesigner
; ========================================================

; handle variables
Var hCtl_ApplicationConfig
Var hCtl_ApplicationConfig_WSUrlLabel
Var hCtl_ApplicationConfig_WSUrl
Var hCtl_ApplicationConfig_WSUrl_State

Var hCtl_ApplicationConfig_DomainLabel
Var hCtl_ApplicationConfig_Domain
Var hCtl_ApplicationConfig_Domain_State

Var hCtl_ApplicationConfig_AccountLabel
Var hCtl_ApplicationConfig_Account
Var hCtl_ApplicationConfig_Account_State

Var hCtl_ApplicationConfig_PasswordLabel
Var hCtl_ApplicationConfig_Password
Var hCtl_ApplicationConfig_Password_State

Var hCtl_ApplicationConfig_DBSourceLabel
Var hCtl_ApplicationConfig_DataSource
Var hCtl_ApplicationConfig_DataSource_State

Var hCtl_ApplicationConfig_DatabaseLabel
Var hCtl_ApplicationConfig_Database
Var hCtl_ApplicationConfig_Database_State

Var hCtl_ApplicationConfig_DBAccountLabel
Var hCtl_ApplicationConfig_DBAccount
Var hCtl_ApplicationConfig_DBAccount_State

Var hCtl_ApplicationConfig_DBPasswordLabel
Var hCtl_ApplicationConfig_DBPassword
Var hCtl_ApplicationConfig_DBPassword_State


; dialog create function
Function fnc_ApplicationConfig_Create
  
  ; === ApplicationConfig (type: Dialog) ===
  nsDialogs::Create 1018
  Pop $hCtl_ApplicationConfig
  ${If} $hCtl_ApplicationConfig == error
    Abort
  ${EndIf}
  !insertmacro MUI_HEADER_TEXT "Report Manager Application Configuration" "Please fill this form to configure the report manager application"
  
  ; === WSUrlLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 0u 66u 15u "Report Server WebService Url:"
  Pop $hCtl_ApplicationConfig_WSUrlLabel
  
  ; === WSUrl (type: Text) ===
  ${NSD_CreateText} 76u 3u 211u 12u $hCtl_ApplicationConfig_WSUrl_State
  Pop $hCtl_ApplicationConfig_WSUrl
  
  ; === DomainLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 20u 56u 10u "User Domain:"
  Pop $hCtl_ApplicationConfig_DomainLabel
  
  ; === Domain (type: Text) ===
  ${NSD_CreateText} 76u 19u 211u 12u $hCtl_ApplicationConfig_Domain_State
  Pop $hCtl_ApplicationConfig_Domain
  
  ; === AccountLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 35u 66u 10u "Account:"
  Pop $hCtl_ApplicationConfig_AccountLabel
  
  ; === Account (type: Text) ===
  ${NSD_CreateText} 76u 34u 211u 12u $hCtl_ApplicationConfig_Account_State
  Pop $hCtl_ApplicationConfig_Account
  
  ; === PasswordLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 51u 66u 10u "Password:"
  Pop $hCtl_ApplicationConfig_PasswordLabel
  
  ; === Password (type: Text) ===
  ${NSD_CreateText} 76u 50u 211u 12u $hCtl_ApplicationConfig_Password_State
  Pop $hCtl_ApplicationConfig_Password
  
  ; === DBSourceLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 65u 66u 19u "Report Server Data Source:"
  Pop $hCtl_ApplicationConfig_DBSourceLabel
  
  ; === DataSource (type: Text) ===
  ${NSD_CreateText} 76u 68u 211u 12u $hCtl_ApplicationConfig_DataSource_State
  Pop $hCtl_ApplicationConfig_DataSource
  
  ; === DatabaseLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 86u 66u 10u "DatabaseName:"
  Pop $hCtl_ApplicationConfig_DatabaseLabel
  
  ; === Database (type: Text) ===
  ${NSD_CreateText} 76u 84u 211u 12u $hCtl_ApplicationConfig_Database_State
  Pop $hCtl_ApplicationConfig_Database
  
  ; === DBAccountLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 100u 66u 11u "DB Account:"
  Pop $hCtl_ApplicationConfig_DBAccountLabel
  
  ; === DBAccount (type: Text) ===
  ${NSD_CreateText} 76u 97u 211u 12u $hCtl_ApplicationConfig_DBAccount_State
  Pop $hCtl_ApplicationConfig_DBAccount

  ; === DBPasswordLabel (type: Label) ===
  ${NSD_CreateLabel} 1u 115u 66u 9u "DB Password:"
  Pop $hCtl_ApplicationConfig_DBPasswordLabel

  ; === DBPassword (type: Text) ===
  ${NSD_CreateText} 76u 112u 211u 12u $hCtl_ApplicationConfig_DBPassword_State
  Pop $hCtl_ApplicationConfig_DBPassword
  
FunctionEnd


; dialog show function
Function fnc_ApplicationConfig_Show
  Call fnc_ApplicationConfig_Create
  nsDialogs::Show $hCtl_ApplicationConfig
FunctionEnd

Function fnc_ApplicationConfig_Leave
  ; cache the fields when user leave current page
  ${NSD_GetText} $hCtl_ApplicationConfig_WSUrl $hCtl_ApplicationConfig_WSUrl_State
  ${NSD_GetText} $hCtl_ApplicationConfig_Domain $hCtl_ApplicationConfig_Domain_State
  ${NSD_GetText} $hCtl_ApplicationConfig_Account $hCtl_ApplicationConfig_Account_State
  ${NSD_GetText} $hCtl_ApplicationConfig_Password $hCtl_ApplicationConfig_Password_State
  ${NSD_GetText} $hCtl_ApplicationConfig_DataSource $hCtl_ApplicationConfig_DataSource_State
  ${NSD_GetText} $hCtl_ApplicationConfig_Database $hCtl_ApplicationConfig_Database_State
  ${NSD_GetText} $hCtl_ApplicationConfig_DBAccount $hCtl_ApplicationConfig_DBAccount_State
  ${NSD_GetText} $hCtl_ApplicationConfig_DBPassword $hCtl_ApplicationConfig_DBPassword_State
FunctionEnd
